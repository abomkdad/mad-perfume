<!DOCTYPE html>
<html lang="" dir="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>MAD PARFUMEUR â€“ Offer</title>

<!-- ===== META PIXEL ===== -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1072283127290819');
fbq('track', 'PageView');
</script>

<!-- ===== TIKTOK PIXEL ===== -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;
  var ttq=w[t]=w[t]||[];
  ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"];
  ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};
  for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);
  ttq.load=function(e,n){
    var i=d.createElement("script");
    i.type="text/javascript";i.async=!0;i.src="https://analytics.tiktok.com/i18n/pixel/events.js?sdkid="+e;
    var a=d.getElementsByTagName("script")[0];
    a.parentNode.insertBefore(i,a)
  };
  ttq.load('D2D02JBC77U4ENLN9SBG');
  ttq.page();
}(window, document, 'ttq');
</script>

<style>
:root{
  --bg:#0a0a0a;
  --card:#141414;
  --gold:#d4af37;
  --text:#ffffff;
  --muted:#aaaaaa;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:var(--bg);
  color:var(--text);
}
header{
  background:url("https://madparfumeurglobal.com/wp-content/uploads/2025/10/1920x600-BERGAY.jpg") center/cover;
  padding:40px 16px 24px;
  text-align:center;
}
header img{
  width:90px;
  margin-bottom:10px;
}
.brand{
  color:var(--gold);
  font-weight:800;
  letter-spacing:2px;
}
.branch-name{
  font-size:20px;
  margin-top:6px;
}
.hours{
  font-size:14px;
  color:var(--muted);
  margin-top:6px;
}
.socials{
  display:flex;
  justify-content:center;
  gap:18px;
  margin-top:16px;
}
.socials a{
  width:44px;height:44px;
  border:2px solid var(--gold);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--gold);
  text-decoration:none;
  font-size:18px;
}

.categories{
  display:flex;
  gap:10px;
  overflow-x:auto;
  padding:14px;
}
.categories button{
  background:transparent;
  border:1px solid var(--gold);
  color:var(--gold);
  padding:6px 14px;
  border-radius:20px;
  cursor:pointer;
  white-space:nowrap;
}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
  padding:14px;
}
.card{
  background:var(--card);
  border-radius:14px;
  padding:10px;
  text-align:center;
}
.card img{
  width:100%;
  height:160px;
  object-fit:contain;
}
.card h4{
  margin:8px 0 4px;
}
.price{
  color:var(--gold);
  font-weight:bold;
}
.card a{
  display:block;
  margin-top:8px;
  background:#25D366;
  color:#fff;
  padding:8px;
  border-radius:10px;
  text-decoration:none;
}

.whatsapp-float{
  position:fixed;
  bottom:18px;
  right:18px;
  width:56px;height:56px;
  background:#25D366;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:26px;
  text-decoration:none;
  z-index:999;
}
</style>
</head>

<body>

<header>
  <img src="https://abomkdad.github.io/Digital-Business-Card/logo.png" alt="MAD">
  <div class="brand">MAD PARFUMEUR</div>
  <div class="branch-name" id="branchName"></div>
  <div class="hours" id="branchHours"></div>
  <div class="socials" id="socials"></div>
</header>

<div class="categories" id="categories"></div>
<div class="products" id="products"></div>

<a id="waFloat" class="whatsapp-float" href="#" target="_blank">ğŸŸ¢</a>

<script>
const qs=new URLSearchParams(location.search);
const branchID=qs.get("branch");
const lang=(navigator.language||"ar").startsWith("he")?"he":"ar";
document.documentElement.lang=lang;
document.documentElement.dir=lang==="he"?"ltr":"rtl";

fetch("branches.csv").then(r=>r.text()).then(t=>{
 const rows=t.split("\n").slice(1).map(r=>r.split(","));
 const b=rows.find(r=>r[0]===branchID)||rows[0];
 document.getElementById("branchName").textContent=lang==="he"?b[2]:b[1];
 document.getElementById("branchHours").innerHTML=lang==="he"?b[5]:b[4];
 document.getElementById("socials").innerHTML=`
  <a href="${b[6]}" target="_blank">ğŸ“</a>
  <a href="${b[7]}" target="_blank">ğŸ“¸</a>
  <a href="${b[8]}" target="_blank">ğŸµ</a>
  <a href="${b[9]}" target="_blank">f</a>`;
 document.getElementById("waFloat").href=b[10];
});

fetch("products.csv").then(r=>r.text()).then(t=>{
 const rows=t.split("\n").slice(1).map(r=>r.split(","));
 const cats=[];
 rows.forEach(p=>{ if(!cats.includes(p[p.length-1])) cats.push(p[p.length-1]);});
 document.getElementById("categories").innerHTML=cats.map(c=>`<button onclick="filter('${c}')">${c}</button>`).join("");
 window.allProducts=rows;
 render(rows);
});

function render(list){
 document.getElementById("products").innerHTML=list.map(p=>`
  <div class="card">
   <img src="${p[3]}" loading="lazy">
   <h4>${p[0]}</h4>
   <div class="price">${p[2]} â‚ª</div>
   <a href="https://wa.me/?text=${encodeURIComponent(p[0])}" target="_blank">
    ${lang==="he"?"×‘×“×•×§ ×–××™× ×•×ª":"Ø§ÙØ­Øµ Ø§Ù„ØªÙˆÙØ±"}
   </a>
  </div>`).join("");
}
function filter(c){ render(allProducts.filter(p=>p[p.length-1]===c)); }
</script>

</body>
</html>
