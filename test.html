<!DOCTYPE html>
<html x-data="app()" x-init="init(null)" :lang="lang" :dir="lang==='he'?'ltr':'rtl'">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Speed Meta -->
<meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">

<!-- Preconnect -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Heebo:wght@400;700;900&display=swap" rel="stylesheet">

<!-- Tailwind Ultra Fast Static -->
<link rel="stylesheet" href="https://unpkg.com/tailwindcss@3.4.1/dist/tailwind.min.css">

<!-- Lucide -->
<script src="https://unpkg.com/lucide@latest" defer></script>

<style>
body {
 background:#cfd0d0;
 color:#000;
 font-family:'Cairo','Heebo',sans-serif;
 overflow-x:hidden;
}

.mad-input {
 width:100%;
 padding:15px;
 background:#f8fafc;
 border:1px solid #e2e8f0;
 border-radius:14px;
 margin-bottom:12px;
 font-weight:700;
}

.mad-radio-ui {
 border:1px solid #e2e8f0;
 border-radius:14px;
 padding:16px;
 background:#f8fafc;
 text-align:center;
 cursor:pointer;
 font-weight:800;
}

input[type="radio"]:checked + .mad-radio-ui {
 border-color:#000;
 background:#fff;
 box-shadow:0 4px 12px rgba(0,0,0,.05);
}

.btn-order-main {
 background:#000;
 color:#fff;
 padding:20px;
 border-radius:18px;
 font-weight:900;
 font-size:1.3rem;
 width:100%;
 display:block;
 text-align:center;
}

.page-block {
 content-visibility:auto;
 contain-intrinsic-size:0 400px;
}
</style>

</head>

<body class="pb-20">

<nav class="p-4 flex justify-center border-b border-black/5 bg-white/40 backdrop-blur-lg sticky top-0 z-50">
 <span class="font-black text-xl">MAD PARFUMEUR</span>
</nav>

<header class="text-center py-10 px-4">
 <h1 class="text-3xl font-black" x-text="c.heroTitle[lang]"></h1>
</header>

<main class="max-w-md mx-auto">

<template x-for="(b,idx) in blocks">

<div class="my-6 px-4 page-block text-center">

<template x-if="b.type==='text'">
<p class="text-lg font-bold" x-text="b.content[lang]"></p>
</template>

<template x-if="b.type==='image'">
<img :src="b.url"
class="rounded-2xl mx-auto shadow-lg w-full"
:loading="idx===0?'eager':'lazy'"
decoding="async">
</template>

<template x-if="b.type==='comparison'">
<div class="space-y-2 mt-4 text-right">

<template x-for="row in b.items">

<div class="grid grid-cols-2 rounded-xl overflow-hidden border border-black/5">

<div class="bg-gray-50 p-4">
<span class="text-[9px] font-black text-amber-600">MAD</span>
<p class="text-sm font-bold" x-text="row.mad[lang]"></p>
</div>

<div class="bg-white p-4 text-gray-400">
<span class="text-[9px] font-black">OTHERS</span>
<p class="text-sm" x-text="row.other[lang]"></p>
</div>

</div>

</template>

</div>
</template>

<template x-if="b.type==='form'">

<div class="bg-white rounded-[28px] p-8 shadow-sm mt-6" id="order">

<h2 class="text-2xl font-black text-center mb-6"
x-text="lang==='he'?'הזמנה מהירה':'إتمام الطلب السريع'"></h2>

<form @submit.prevent="submitForm">

<input x-model="f.name" @input="trackInput" class="mad-input" required
:placeholder="lang==='he'?'שם מלא':'الاسم الكامل'">

<input x-model="f.phone" class="mad-input" required
:placeholder="lang==='he'?'טלפון':'رقم الهاتف'">

<input x-model="f.address" class="mad-input" required
:placeholder="lang==='he'?'כתובת':'العنوان'">

<div class="grid grid-cols-2 gap-3 mb-4">

<label>
<input type="radio" x-model="f.payment" value="Cash" hidden required>
<div class="mad-radio-ui" x-text="lang==='he'?'מזומן':'نقداً'"></div>
</label>

<label>
<input type="radio" x-model="f.payment" value="Visa" hidden required>
<div class="mad-radio-ui" x-text="lang==='he'?'אשראי':'فيزا'"></div>
</label>

</div>

<button type="submit"
class="w-full py-5 bg-black text-white rounded-xl font-black text-xl"
x-text="loading?'...':(lang==='he'?'אשר הזמנה':'تأكيد الطلب')"></button>

</form>

</div>

</template>

</div>

</template>

</main>

<script>

setTimeout(()=>{
 const s=document.createElement("script");
 s.src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js";
 s.defer=true;
 document.body.appendChild(s);
},200);

window.addEventListener('load',()=>{

!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)n=f.fbq;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}
(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');

fbq('init','1072283127290819');
fbq('track','PageView');

!function(w,d,t){
w.TiktokAnalyticsObject=t;
var ttq=w[t]=w[t]||[];
ttq.methods=["page","track"];
ttq.methods.forEach(e=>ttq[e]=function(){ttq.push([e].concat([].slice.call(arguments)))});
ttq.load=function(id){
var s=d.createElement("script");
s.async=true;
s.src="https://analytics.tiktok.com/i18n/pixel/events.js?sdkid="+id;
d.head.appendChild(s)
};
ttq.load('D2D02JBC77U4ENLN9SBG');
ttq.page();
}(window,document,'ttq');

});

function app(){

return {

lang:'ar',
loading:false,
hasStartedTyping:false,

blocks:[
{type:'text',content:{ar:'شامل التوصيل',he:'כולל משלוח'}},
{type:'image',url:'https://madperfume.ps/upload/01-2026/page/6977f306bdb0f.png'},
{type:'comparison',items:[
{mad:{ar:'ثبات عالي',he:'עמידות גבוהה'},other:{ar:'ثبات ضعيف',he:'עמידות נמוכה'}},
{mad:{ar:'جودة أوروبية',he:'איכות אירופאית'},other:{ar:'تجاري',he:'מסחרי'}}
]},
{type:'form'}
],

c:{
heroTitle:{
ar:'أقوى العروض الحصرية بـ 150 شيكل',
he:'המבצע החזק ביותר ב-150₪'
}
},

f:{name:'',phone:'',address:'',payment:''},

trackInput(){
 if(this.hasStartedTyping) return;
 if(this.f.name.length>2){
  this.hasStartedTyping=true;
  fbq('track','AddToCart');
  ttq.track('AddToCart');
 }
},

submitForm(){

if(this.loading) return;
this.loading=true;

fbq('track','Purchase',{value:150,currency:'ILS'});
ttq.track('CompletePayment',{value:150,currency:'ILS'});

setTimeout(()=>{
 this.loading=false;
 alert(this.lang==='he'?'בוצע בהצלחה':'تم إرسال الطلب');
},800);

},

init(){
 this.lang = navigator.language.startsWith('he')?'he':'ar';
 setTimeout(()=>lucide.createIcons(),300);
}

}

}

</script>

</body>
</html>
