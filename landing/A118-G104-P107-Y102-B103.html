<!DOCTYPE html>
<html x-data="app()" x-init="init(null)" :lang="lang" :dir="lang==='he'?'ltr':'rtl'">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest" defer></script>
<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Aref+Ruqaa:wght@400;700&family=Cairo:wght@200..1000&family=Rakkas&family=Tajawal:wght@200..900&display=swap" rel="stylesheet">
<style>
body { background: #f07d70; font-family: 'Cairo', sans-serif; overflow-x: hidden; min-height: 100vh; }
.inp { width: 100%; padding: 15px; background: #f8fafc; border: 1px solid #ddd; border-radius: 12px; margin-bottom: 10px; font-weight: bold; }
.btn-main { 
    background: #000; color: #fff; width: 100%; padding: 18px; border-radius: 14px; font-weight: 900; font-size: 1.2rem;
    box-shadow: 0 4px 14px rgba(0,0,0,0.2); position: relative; overflow: hidden;
    animation: pulse 2s infinite;
}
@keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7); } 70% { transform: scale(1.02); box-shadow: 0 0 0 10px rgba(0, 0, 0, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 0, 0, 0); } }
@keyframes loadingBar { 0% { width: 0%; } 80% { width: 90%; } 100% { width: 100%; } }
.progress-container { margin-bottom: 15px; }
.progress-text { display: flex; justify-content: space-between; font-size: 0.75rem; font-weight: bold; margin-bottom: 5px; opacity: 0.7; }
.progress-track { height: 6px; background: #e5e7eb; border-radius: 99px; overflow: hidden; }
.progress-fill { height: 100%; background: #10b981; width: 85%; }
.mad-radio-box { border: 2px solid #e5e7eb; border-radius: 12px; padding: 12px; text-align: center; cursor: pointer; transition: all 0.2s ease; background: white; color: #4b5563; font-weight: 700; }
input[type="radio"]:checked + .mad-radio-box { border-color: #10b981; background: #f0fdf4; color: #047857; transform: scale(1.02); box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2); }
.mad-radio-box.recommended { border-color: #10b981; position: relative; }
.mad-radio-box.recommended::after { content: '‚òÖ'; position: absolute; top: -8px; right: -8px; background: #10b981; color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 10px; display: flex; align-items: center; justify-content: center; }
.sales-pop { animation: slideIn 0.5s ease-out forwards; }
@keyframes slideIn { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
/* Hide scrollbar for Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar { display: none; }
/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar { -ms-overflow-style: none;  scrollbar-width: none; }
.page-block { content-visibility: auto; contain-intrinsic-size: 0 400px; }
</style>
</head>
<body class="pb-20">
    <nav class="p-4 flex justify-center bg-white/40 backdrop-blur sticky top-0 z-50"><img src="https://madperfume.ps/upload/01-2026/page/6977cf82b87ef.png" class="h-10 object-contain"></nav>
    <header class="text-center py-8 px-4"><h1 class="text-3xl font-black" x-text="c.heroTitle[lang]"></h1></header>
    
    <main class="max-w-md mx-auto px-4">
        <template x-for="(b, idx) in blocks">
            <div class="my-6 page-block" :class="b.align==='center'?'text-center':(b.align==='left'?'text-left':'text-right')">
                <template x-if="b.type==='text'">
                    <p class="whitespace-pre-wrap leading-relaxed" :class="[b.style?.size || 'text-lg', b.style?.weight || 'font-bold']" :style="{ color: b.style?.color || '#000', fontFamily: (b.style?.font || 'Cairo') + ', sans-serif' }" x-text="b.content[lang]"></p>
                </template>
                
                <!-- Offers Slider (Horizontal Scroll) -->
                <template x-if="b.type==='offers_slider'">
                    <div class="mt-4">
                        <h3 class="text-lg font-bold mb-3 px-2 text-right" x-text="b.title[lang]"></h3>
                        <div class="flex overflow-x-auto snap-x snap-mandatory gap-3 pb-4 no-scrollbar pr-2 pl-2">
                            <template x-for="item in b.items">
                                <a :href="item.link" class="min-w-[140px] w-[140px] snap-center bg-white rounded-xl shadow-lg border border-gray-100 p-2 flex flex-col no-underline transition transform active:scale-95">
                                    <img :src="item.img" class="w-full aspect-square object-cover rounded-lg mb-2 bg-gray-100">
                                    <h4 class="text-xs font-bold text-gray-800 line-clamp-2 h-8 leading-tight mb-1" x-text="item.title[lang]"></h4>
                                    <div class="mt-auto">
                                        <p class="text-sm font-black text-red-600 mb-2" x-text="item.price + (lang==='he'?' ‚Ç™':' ÿ¥ŸäŸÉŸÑ')"></p>
                                        <div class="w-full bg-black text-white text-[10px] font-bold py-1.5 rounded text-center" x-text="lang==='he'?'◊î◊ï◊°◊£ ◊ú◊°◊ú':'ÿ£ÿ∂ŸÅ ŸÑŸÑÿ≥ŸÑÿ©'"></div>
                                    </div>
                                </a>
                            </template>
                        </div>
                    </div>
                </template>

                <!-- Interactive Rating Block (SVG Stars) -->
                <template x-if="b.type==='interactive_rating'">
                    <div class="bg-white border-2 border-yellow-100 rounded-xl p-6 shadow-sm text-center">
                         <h3 class="text-lg font-bold mb-3" x-text="b.content[lang]"></h3>
                         <div x-data="{ rated: false, stars: 0, hover: 0, count: Math.floor(Math.random() * 5000) + 12000 }" class="flex flex-col items-center">
                             <div class="flex gap-2 mb-2" x-show="!rated" @mouseleave="hover=0">
                                <template x-for="i in 5">
                                    <button 
                                        @click="rated=true; stars=i" 
                                        @mouseover="hover=i"
                                        class="transition-all duration-200 transform hover:scale-110"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" :fill="(i <= (hover || stars)) ? '#FACC15' : 'none'" :stroke="(i <= (hover || stars)) ? 'none' : '#D1D5DB'" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                    </button>
                                </template>
                             </div>
                             <div x-show="rated" class="text-green-600 font-bold animate-bounce mt-2" x-transition>
                                 <p class="text-3xl mb-2">üéâ</p>
                                 <p class="text-sm">
                                    <span x-text="lang==='he'?'◊™◊ï◊ì◊î ◊¢◊ú ◊î◊ì◊ô◊®◊ï◊í!':'ÿ¥ŸÉÿ±ÿßŸã ÿπŸÑŸâ ÿ™ŸÇŸäŸäŸÖŸÉ!'"></span>
                                    <span class="font-black" x-text="'(' + stars + '/5)'"></span>
                                 </p>
                                 <p class="text-xs text-gray-500 mt-1" x-text="lang==='he' ? '◊î◊¶◊ò◊®◊§◊™ ◊ú-' + count.toLocaleString() + ' ◊ú◊ß◊ï◊ó◊ï◊™ ◊û◊®◊ï◊¶◊ô◊ù' : 'ÿßŸÜÿ∂ŸÖŸÖÿ™ ÿ•ŸÑŸâ ' + count.toLocaleString() + ' ÿπŸÖŸäŸÑ ÿ≥ÿπŸäÿØ'"></p>
                             </div>
                         </div>
                    </div>
                </template>

                <template x-if="b.type==='urgency_box'">
                   <div x-data="{ v: parseInt(b.visitors || 600), s: parseInt(b.left || 8) }" x-init="setInterval(()=>{v+=Math.floor(Math.random()*5)-2}, 3000); setInterval(()=>{if(s>2)s--}, 9000)" class="bg-gradient-to-r from-red-50 to-orange-50 border border-red-100 rounded-2xl p-5 shadow-sm mb-4 relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-1 h-full bg-red-500"></div>
                        <div class="flex items-center justify-center gap-2 text-gray-500 text-xs mb-3 font-bold"><span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span><span x-text="v"></span><span x-text="lang==='he'?'◊¶◊ï◊§◊ô◊ù ◊ë◊û◊ï◊¶◊® ◊ñ◊î ◊õ◊¢◊™':'Ÿäÿ™ÿµŸÅÿ≠ŸàŸÜ Ÿáÿ∞ÿß ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ¢ŸÜ'"></span></div>
                        <div class="flex justify-between items-center mb-3"><span class="text-[10px] font-black bg-red-600 text-white px-2 py-1 rounded animate-pulse" x-text="lang==='he'?'üî• ◊ë◊ô◊ß◊ï◊© ◊í◊ë◊ï◊î':'üî• ÿ∑ŸÑÿ® ŸÖÿ±ÿ™ŸÅÿπ'"></span><div class="text-lg font-mono font-black text-red-600 bg-white px-2 rounded border border-red-100 shadow-sm" x-text="timer"></div></div>
                        <h3 class="text-sm font-bold text-gray-800 mb-1"><span x-text="lang==='he'?'◊†◊û◊õ◊® ◊û◊¢◊ú ':'ÿ™ŸÖ ÿ¥ÿ±ÿßÿ° Ÿáÿ∞ÿß ÿßŸÑÿπÿ±ÿ∂ '"></span><span class="text-red-600 text-lg" x-text="b.sold"></span><span x-text="lang==='he'?' ◊§◊¢◊û◊ô◊ù ◊î◊ô◊ï◊ù':' ŸÖÿ±ÿ© ÿßŸÑŸäŸàŸÖ'"></span></h3>
                         <div class="flex items-center gap-2 text-xs text-gray-600 mb-2"><span>‚ö°</span><span x-text="lang==='he'?'◊†◊ï◊™◊®◊ï ':'ÿ®ŸÇŸä '"></span><span class="font-black text-red-600 text-base" x-text="s"></span><span x-text="lang==='he'?' ◊ô◊ó◊ô◊ì◊ï◊™ ◊ë◊ú◊ë◊ì!':' ŸÇÿ∑ÿπ ŸÅŸÇÿ∑!'"></span></div>
                        <div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden"><div class="bg-gradient-to-r from-red-500 to-orange-500 h-full rounded-full transition-all duration-1000" :style="'width: ' + (s*10) + '%'"></div></div>
                   </div>
                </template>

                <template x-if="b.type==='stock'">
                    <div class="bg-red-50 border border-red-200 rounded-xl p-4 shadow-sm animate-pulse">
                        <p class="text-red-600 font-black text-sm mb-2" x-text="b.content[lang]"></p>
                        <div class="w-full bg-red-200 rounded-full h-2.5"><div class="bg-red-600 h-2.5 rounded-full" style="width: 15%"></div></div>
                    </div>
                </template>

                <template x-if="b.type==='image'"><img :src="b.url" class="rounded-2xl mx-auto shadow-lg w-full" :loading="idx===0?'eager':'lazy'"></template>
                <template x-if="b.type==='video'"><video :src="b.url" controls class="w-full rounded-2xl shadow-lg" playsinline preload="none"></video></template>
                <template x-if="b.type==='iframe'"><iframe :src="b.url" class="w-full h-96 rounded-xl border-none shadow-sm" loading="lazy"></iframe></template>
                <template x-if="b.type==='button'"><a :href="b.link" class="btn-main block text-center no-underline" x-text="b.content[lang]"></a></template>
                
                <template x-if="b.type==='fragrantica'">
                    <a :href="b.url" target="_blank" class="block w-full max-w-[320px] bg-[#3f5a31] text-white p-5 rounded-[24px] shadow-xl relative overflow-hidden mx-auto no-underline text-right">
                        <div class="flex justify-between items-center mb-3">
                            <span class="text-[10px] font-black uppercase tracking-widest text-white/60">Reviews</span>
                            <div class="flex text-amber-400 gap-0.5">
                                <template x-for="i in parseInt(b.stars || 5)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                </template>
                            </div>
                        </div>
                        <div class="flex items-end gap-2"><span class="text-4xl font-black" x-text="b.score || '4.9 / 5'"></span><span class="text-xs opacity-60 mb-1">Rating</span></div>
                        <p class="text-[10px] font-bold mt-2 text-white/80" x-text="b.content[lang]"></p>
                    </a>
                </template>

                <template x-if="b.type==='embed'"><div x-html="b.content[lang]"></div></template>
                <template x-if="b.type==='iso'">
                    <div class="grid grid-cols-3 gap-3 w-full max-w-sm mx-auto mt-4">
                        <div class="bg-white border border-black/5 p-3 rounded-2xl text-center shadow-sm relative overflow-hidden group">
                           <div class="absolute inset-0 bg-amber-50 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                           <div class="w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center mx-auto mb-1 text-amber-600 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg></div>
                           <p class="text-[8px] font-bold uppercase relative z-10">ISO 9001</p>
                        </div>
                        <div class="bg-white border border-black/5 p-3 rounded-2xl text-center shadow-sm relative overflow-hidden group">
                           <div class="absolute inset-0 bg-amber-50 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                           <div class="w-10 h-10 rounded-full bg-amber-100 flex items-center justify-content-center mx-auto mb-1 text-amber-600 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12l2 2 4-4"></path><circle cx="12" cy="12" r="10"></circle></svg></div>
                           <p class="text-[8px] font-bold uppercase relative z-10">IFRA Safe</p>
                        </div>
                        <div class="bg-white border border-black/5 p-3 rounded-2xl text-center shadow-sm relative overflow-hidden group">
                           <div class="absolute inset-0 bg-amber-50 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                           <div class="w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center mx-auto mb-1 text-amber-600 relative z-10"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg></div>
                           <p class="text-[8px] font-bold uppercase relative z-10">Health OK</p>
                        </div>
                    </div>
                </template>
                <template x-if="b.type==='comparison'">
                    <div class="space-y-2 mt-4 text-right">
                        <template x-for="row in b.items">
                            <div class="grid grid-cols-2 gap-1 rounded-xl overflow-hidden border border-black/5 shadow-sm">
                                <div class="bg-gray-50 p-4 border-r border-black/5"><span class="text-[8px] font-black text-amber-600 block mb-1">MAD</span><p class="text-[11px] font-bold leading-tight" x-text="row.mad[lang]"></p></div>
                                <div class="bg-white p-4 text-gray-400 text-right"><span class="text-[8px] font-black text-gray-300 block mb-1">OTHERS</span><p class="text-[11px]" x-text="row.other[lang]"></p></div>
                            </div>
                        </template>
                    </div>
                </template>
                <template x-if="b.type==='form'">
                    <div class="bg-white p-6 rounded-[24px] shadow-sm text-right border-2 border-gray-100" id="order">
                        <div class="progress-container"><div class="progress-text"><span x-text="lang==='he'?'◊§◊®◊ò◊ô ◊û◊©◊ú◊ï◊ó':'ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ¥ÿ≠ŸÜ'"></span><span x-text="lang==='he'?'◊©◊ú◊ë ◊ê◊ó◊®◊ï◊ü':'ÿßŸÑÿÆÿ∑Ÿàÿ© ÿßŸÑÿ£ÿÆŸäÿ±ÿ©'"></span></div><div class="progress-track"><div class="progress-fill"></div></div></div>
                        <h2 class="text-xl font-black text-center mb-4" x-text="b.content[lang] || (lang==='he'?'◊î◊ñ◊û◊†◊î':'ÿßÿ∑ŸÑÿ® ÿßŸÑÿ¢ŸÜ')"></h2>
                        <form @submit.prevent="submitForm">
                            <!-- FIX: ÿ™ÿ¥ÿ∫ŸäŸÑ trackInput ŸÅÿπŸÑŸäÿßŸã ÿπŸÜÿØ ÿ®ÿØÿ° ÿßŸÑŸÉÿ™ÿßÿ®ÿ© (AddToCart) -->
                            <input type="text" x-model="f.name" @input="trackInput()" class="inp" :placeholder="lang==='he'?'◊©◊ù ◊û◊ú◊ê':'ÿßŸÑÿßÿ≥ŸÖ'" required>
                            <input type="tel" x-model="f.phone" class="inp" :placeholder="lang==='he'?'◊ò◊ú◊§◊ï◊ü':'ÿßŸÑŸáÿßÿ™ŸÅ'" required>
                            <input type="text" x-model="f.address" class="inp" :placeholder="lang==='he'?'◊õ◊™◊ï◊ë◊™':'ÿßŸÑÿπŸÜŸàÿßŸÜ'" required>
                            <div class="grid grid-cols-2 gap-3 mb-4">
                                <label class="cursor-pointer group">
                                    <input type="radio" x-model="f.payment" value="Cash" class="hidden">
                                    <div class="mad-radio-box recommended">
                                        <span x-text="lang==='he'?'◊û◊ñ◊ï◊û◊ü üíµ':'ŸÜŸÇÿØ üíµ'"></span>
                                        <div class="text-[9px] text-green-600 font-normal" x-text="lang==='he'?'◊û◊ï◊û◊ú◊•':'ŸÖŸàÿµŸâ ÿ®Ÿá'"></div>
                                    </div>
                                </label>
                                <label class="cursor-pointer group">
                                    <input type="radio" x-model="f.payment" value="Visa" class="hidden">
                                    <div class="mad-radio-box"><span x-text="lang==='he'?'◊ê◊©◊®◊ê◊ô üí≥':'ŸÅŸäÿ≤ÿß üí≥'"></span></div>
                                </label>
                            </div>
                            <div class="grid grid-cols-2 gap-3 mb-6">
                                <label class="cursor-pointer group">
                                    <input type="radio" x-model="f.process" value="Direct" class="hidden">
                                    <div class="mad-radio-box recommended">
                                        <span class="text-xs" x-text="lang==='he'?'◊©◊ú◊ó ◊î◊ñ◊û◊†◊î':'ÿßÿ±ÿ≥ŸÑ ÿßŸÑÿ∑ŸÑÿ®'"></span>
                                        <div class="text-[9px] text-blue-600 font-normal">üöÄ ÿ£ÿ≥ÿ±ÿπ</div>
                                    </div>
                                </label>
                                <label class="cursor-pointer group">
                                    <input type="radio" x-model="f.process" value="Contact" class="hidden">
                                    <div class="mad-radio-box"><span class="text-xs" x-text="lang==='he'?'◊¶◊ï◊® ◊ß◊©◊®':'ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸä'"></span></div>
                                </label>
                            </div>
                            <button type="submit" class="btn-main transform active:scale-95 transition-transform" :disabled="loading" x-text="loading?'...':(b.btnText && b.btnText[lang] ? b.btnText[lang] : (lang==='he'?'◊©◊ú◊ó ◊î◊ñ◊û◊†◊î':'ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ∑ŸÑÿ®'))"></button>
                        </form>
                    </div>
                </template>
            </div>
        </template>
    </main>
    
    <div x-show="pop.show" class="fixed bottom-4 left-4 right-4 bg-white p-3 rounded-xl shadow-2xl border border-gray-100 z-40 sales-pop flex items-center gap-3" style="display:none">
        <div class="bg-green-100 p-2 rounded-full"><span class="text-xl">üõçÔ∏è</span></div>
        <div><p class="text-xs font-bold" x-text="pop.msg"></p><p class="text-[10px] text-gray-500">ŸÖŸÜÿ∞ ÿØŸÇŸäŸÇÿ™ŸäŸÜ</p></div>
    </div>

    <div x-show="loading" class="fixed inset-0 z-50 bg-black/90 flex flex-col items-center justify-center text-white" x-transition.opacity><div class="text-5xl mb-4 animate-bounce">üöÄ</div><h2 class="text-xl font-bold mb-4" x-text="lang==='he'?'◊©◊ï◊ú◊ó ◊î◊ñ◊û◊†◊î...':'ÿ¨ÿßÿ±Ÿä ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ∑ŸÑÿ®...'"></h2><div class="w-64 h-2 bg-gray-800 rounded-full overflow-hidden"><div class="h-full bg-green-500 transition-all duration-[3000ms] ease-out w-full" :style="loading ? 'width: 100%' : 'width: 0%'"></div></div><p class="text-xs text-gray-400 mt-2" x-text="lang==='he'?'◊ê◊†◊ê ◊î◊û◊™◊ü, ◊ú◊ê ◊ú◊°◊í◊ï◊® ◊ê◊™ ◊î◊ì◊£':'Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ± ŸÇŸÑŸäŸÑÿßŸã...'"></p></div>
    <div x-show="submitted" class="fixed inset-0 bg-black/95 z-50 flex items-center justify-center text-center text-white" style="display:none" x-transition><div class="bg-white text-black p-10 rounded-3xl max-w-xs shadow-2xl transform scale-100 transition-transform"><div class="text-6xl mb-4">‚úÖ</div><h3 class="text-2xl font-black mb-2" x-text="lang==='he'?'◊î◊î◊ñ◊û◊†◊î ◊î◊™◊ß◊ë◊ú◊î!':'ÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿ∑ŸÑÿ®ŸÉ!'"></h3><p class="font-bold text-gray-600 mb-6" x-text="lang==='he'?'◊†◊ô◊¶◊ï◊® ◊ê◊ô◊™◊ö ◊ß◊©◊® ◊ë◊î◊ß◊ì◊ù':'ÿ≥ŸÜÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã ŸÑÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ'"></p><button @click="submitted=false" class="w-full bg-black text-white py-4 rounded-xl font-bold hover:bg-gray-900 transition">Close</button></div></div>
    
    <!-- Optimized Pixel Loading for Speed ‚ö° -->
    <script>
        function loadPixels() {
            // FB
            !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)n=f.fbq;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '1072283127290819'); fbq('track', 'PageView');
            
            // TT
            !function (w, d, t) { w.TiktokAnalyticsObject=t; var ttq=w[t]=w[t]||[]; ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"]; ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}; for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]); ttq.load=function(e,n){ var r="https://analytics.tiktok.com/i18n/pixel/events.js"; var o=n&&n.partner; ttq._i=ttq._i||{}; ttq._i[e]=[]; ttq._i[e]._u=r; ttq._t=ttq._t||{}; ttq._t[e]=+new Date; ttq._o=ttq._o||{}; ttq._o[e]=n||{}; n=document.createElement("script"); n.type="text/javascript"; n.async=!0; n.src=r+"?sdkid="+e+"&lib="+t; e=document.getElementsByTagName("script")[0]; e.parentNode.insertBefore(n,e) }; ttq.load('D2D02JBC77U4ENLN9SBG'); ttq.page(); }(window, document, 'ttq');
            
            // Snap
            (function(e,t,n){if(e.snaptr)return;var a=e.snaptr=function(){a.handleRequest?a.handleRequest.apply(a,arguments):a.queue.push(arguments)};a.queue=[];var s='script';var r=t.createElement(s);r.async=!0;r.src=n;var u=t.getElementsByTagName(s)[0];u.parentNode.insertBefore(r,u)})(window,document,'https://sc-static.net/scevent.min.js');
            snaptr('init', 'b143822e-1c3c-40ff-93f7-edadee74e626'); snaptr('track', 'PAGE_VIEW');
        }

        function app() {
            return {
                lang: 'ar', loading: false, submitted: false, pop: {show:false, msg:''}, hasStartedTyping: false,
                blocks: [{"id":1,"type":"text","content":{"ar":"ÿ™ŸàÿµŸäŸÑ ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸÜÿßÿ∑ŸÇ","he":"◊û◊©◊ú◊ï◊ó ◊ó◊ô◊†◊ù"},"align":"center","style":{"color":"#000000","size":"text-lg","font":"Cairo","weight":"font-black"}},{"id":1769632345907,"type":"image","content":{"ar":"","he":""},"btnText":{"ar":"","he":""},"url":"https://www.mad-parfumeur.com/assets/hero/1.webp","link":"#order","align":"center","items":[],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"68","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632356116,"type":"urgency_box","content":{"ar":"","he":""},"btnText":{"ar":"","he":""},"url":"","link":"#order","align":"center","items":[],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"97","left":"11","visitors":"7354","timerMinutes":"53","title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632367762,"type":"form","content":{"ar":"ÿßÿ∑ŸÑÿ® ÿßŸÑÿ¢ŸÜ","he":"◊î◊ñ◊û◊†◊î ◊û◊î◊ô◊®◊î"},"btnText":{"ar":"ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ∑ŸÑÿ®","he":"◊©◊ú◊ó ◊î◊ñ◊û◊†◊î"},"url":"","link":"#order","align":"center","items":[],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"600","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632385299,"type":"fragrantica","content":{"ar":"ÿ™ŸÇŸäŸäŸÖÿßÿ™ ŸÖŸÖÿ™ÿßÿ≤ÿ©","he":"◊ë◊ô◊ß◊ï◊®◊ï◊™ ◊û◊¶◊ï◊ô◊†◊ï◊™"},"btnText":{"ar":"","he":""},"url":"","link":"#order","align":"center","items":[],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"600","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632391546,"type":"interactive_rating","content":{"ar":"ŸÖÿß ŸáŸà ÿ™ŸÇŸäŸäŸÖŸÉ ŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÜÿßÿü","he":"◊ê◊ô◊ö ◊ê◊™◊ù ◊û◊ì◊®◊í◊ô◊ù ◊ê◊™ ◊î◊û◊ï◊¶◊®◊ô◊ù ◊©◊ú◊†◊ïÿü"},"btnText":{"ar":"","he":""},"url":"","link":"#order","align":"center","items":[],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"600","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632401898,"type":"comparison","content":{"ar":"","he":""},"btnText":{"ar":"","he":""},"url":"","link":"#order","align":"center","items":[{"mad":{"ar":"ÿ®ÿµŸÖÿ© ÿ£ŸÖÿßŸÜ 100% ŸàŸÖÿµÿßÿØŸÇ ŸÖŸÜ IFRA","he":"◊ë◊ò◊ï◊ó ◊ë-100% ◊ï◊û◊ê◊ï◊©◊® ◊¢\"◊ô IFRA"},"other":{"ar":"ÿ≤ŸäŸàÿ™ ŸÉŸäŸÖŸäÿßÿ¶Ÿäÿ© ŸÖÿ¨ŸáŸàŸÑÿ© ÿßŸÑŸÖÿµÿØÿ±","he":"◊©◊û◊†◊ô◊ù ◊û◊û◊ß◊ï◊® ◊ú◊ê ◊ô◊ì◊ï◊¢"}},{"mad":{"ar":"ÿ™ÿ∑ÿßÿ®ŸÇ ÿ¨ÿ≤Ÿäÿ¶Ÿä Ÿàÿ™ÿ±ŸÉŸäÿ≤ ŸÜŸäÿ¥ ÿ≠ŸÇŸäŸÇŸä","he":"◊î◊™◊ê◊û◊î ◊û◊ï◊ú◊ß◊ï◊ú◊®◊ô◊™ ◊ï◊®◊ô◊õ◊ï◊ñ ◊†◊ô◊©◊î"},"other":{"ar":"ÿÆŸÑÿ∑ ŸäÿØŸàŸä ÿπÿ¥Ÿàÿßÿ¶Ÿä Ÿäÿ™ŸÅŸÉŸÉ ŸÅŸàÿ±ÿßŸã","he":"◊¢◊®◊ë◊ï◊ë ◊ô◊ì◊†◊ô ◊ê◊ß◊®◊ê◊ô"}},{"mad":{"ar":"ÿ´ÿ®ÿßÿ™ ŸÅÿßÿ¶ŸÇ Ÿäÿ™ÿ¨ÿßŸàÿ≤ 24 ÿ≥ÿßÿπÿ©","he":"◊¢◊û◊ô◊ì◊ï◊™ ◊û◊¢◊ú 24 ◊©◊¢◊ï◊™"},"other":{"ar":"ŸäÿÆÿ™ŸÅŸä ÿ®ÿπÿØ ÿ£ŸÇŸÑ ŸÖŸÜ ÿ≥ÿßÿπÿ©","he":"◊†◊¢◊ú◊ù ◊û◊î◊®"}},{"mad":{"ar":"ŸÑÿß Ÿäÿ≥ÿ®ÿ® ÿßŸÑÿ≠ÿ≥ÿßÿ≥Ÿäÿ© ÿ£Ÿà ÿßŸÑÿµÿØÿßÿπ","he":"◊ú◊ê ◊í◊ï◊®◊ù ◊ú◊ê◊ú◊®◊í◊ô◊ï◊™ ◊ê◊ï ◊õ◊ê◊ë◊ô ◊®◊ê◊©"},"other":{"ar":"ŸÖÿ∞Ÿäÿ®ÿßÿ™ ŸÉŸäŸÖŸäÿßÿ¶Ÿäÿ© ÿ∂ÿßÿ±ÿ©","he":"◊û◊û◊°◊ô◊ù ◊õ◊ô◊û◊ô◊ô◊ù ◊û◊ñ◊ô◊ß◊ô◊ù"}},{"mad":{"ar":"ÿÆÿØŸÖÿ© ÿ≤ÿ®ÿßÿ¶ŸÜ Ÿà41 ŸÅÿ±ÿπ ŸÅŸä ÿßŸÑÿ®ŸÑÿßÿØ","he":"◊©◊ô◊®◊ï◊™ ◊ú◊ß◊ï◊ó◊ï◊™ ◊ï-41 ◊°◊†◊ô◊§◊ô◊ù ◊ë◊ê◊®◊•"},"other":{"ar":"ŸÖÿ™ÿßÿ¨ÿ± ÿ£ŸàŸÜŸÑÿßŸäŸÜ ÿ®ŸÑÿß ÿπŸÜŸàÿßŸÜ","he":"◊ó◊†◊ï◊ô◊ï◊™ ◊ê◊ï◊†◊ú◊ô◊ô◊ü ◊ú◊ú◊ê ◊õ◊™◊ï◊ë◊™"}},{"mad":{"ar":"ÿ™ÿπÿ™ŸäŸÇ Ÿàÿ™ÿµŸÅŸäÿ© ŸÖÿÆÿ®ÿ±Ÿäÿ© ÿ£Ÿàÿ±Ÿàÿ®Ÿäÿ©","he":"◊ô◊ô◊©◊ï◊ü ◊ï◊°◊ô◊†◊ï◊ü ◊û◊¢◊ë◊ì◊™◊ô ◊ê◊ô◊®◊ï◊§◊ê◊ô"},"other":{"ar":"ÿ≤ŸäŸàÿ™ ÿ™ÿ¨ÿßÿ±Ÿäÿ© ÿ±ÿÆŸäÿµÿ©","he":"◊©◊û◊†◊ô◊ù ◊û◊°◊ó◊®◊ô◊ô◊ù ◊ñ◊ï◊ú◊ô◊ù"}},{"mad":{"ar":"ŸÖÿµÿßÿØŸÇÿßÿ™ ÿßŸÑÿ£Ÿäÿ≤Ÿà ŸàŸàÿ≤ÿßÿ±ÿ© ÿßŸÑÿµÿ≠ÿ©","he":"◊ê◊ô◊©◊ï◊® ◊™◊ß◊ü ISO ◊ï◊û◊©◊®◊ì ◊î◊ë◊®◊ô◊ê◊ï◊™"},"other":{"ar":"ÿ∫Ÿäÿ± ŸÖŸÅÿ≠Ÿàÿµ ŸàŸÖŸÇŸÑÿØ","he":"◊ú◊ê ◊†◊ë◊ì◊ß "}}],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"600","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632418891,"type":"iso","content":{"ar":"","he":""},"btnText":{"ar":"","he":""},"url":"","link":"#order","align":"center","items":[],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"600","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632467886,"type":"offers_slider","content":{"ar":"","he":""},"btnText":{"ar":"","he":""},"url":"","link":"#order","align":"center","items":[{"img":"https://www.mad-parfumeur.com/assets/hero/2.webp","title":{"ar":"◊û◊ë◊¶◊¢ 1","he":"◊û◊ë◊¶◊¢"},"price":"350","link":"https://www.mad-parfumeur.com/landing/P107-W223-Y104.html"},{"img":"https://www.mad-parfumeur.com/assets/hero/w179%20w183%20j110.webp","title":{"ar":"◊û◊ë◊¶◊¢ 2","he":"◊û◊ë◊¶◊¢"},"price":"350","link":"https://www.mad-parfumeur.com/landing/W179-W183-J110.html"},{"img":"https://www.mad-parfumeur.com/assets/hero/4.webp","title":{"ar":"◊û◊ë◊¶◊¢ 3","he":"◊¶◊ë◊¶◊¢ 3"},"price":"400","link":"https://www.mad-parfumeur.com/landing/w183.html"}],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"600","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}},{"id":1769632862436,"type":"sales_pop","content":{"ar":"ŸÖŸÅÿπŸÑ","he":"◊û◊ï◊§◊¢◊ú"},"btnText":{"ar":"","he":""},"url":"","link":"#order","align":"center","items":[],"score":"4.9 / 5","stars":5,"style":{"color":"#000000","size":"text-base","font":"Cairo","weight":"normal"},"sold":"600","left":"8","visitors":"550","timerMinutes":15,"title":{"ar":"ÿπÿ±Ÿàÿ∂ ÿ£ÿÆÿ±Ÿâ ŸÇÿØ ÿ™ÿπÿ¨ÿ®ŸÉ","he":"◊û◊ï◊¶◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù ◊©◊ê◊ï◊ú◊ô ◊™◊ê◊î◊ë"}}], c: {"bgColor":"#f07d70","logoUrl":"https://madperfume.ps/upload/01-2026/page/6977cf82b87ef.png","heroTitle":{"ar":"ÿ£ŸÇŸàŸâ ÿßŸÑÿπÿ±Ÿàÿ∂ ÿßŸÑÿ≠ÿµÿ±Ÿäÿ©","he":"◊î◊û◊ë◊¶◊¢◊ô◊ù ◊î◊ë◊ú◊¢◊ì◊ô◊ô◊ù ◊ë◊ô◊ï◊™◊®"},"productName":"A118-G104-P107-Y102-B103","price":"500","adminPhone":"972525105889","sheetUrl":"https://script.google.com/macros/s/AKfycbw7m6OCcTnH6CILpTo2TVRZIXXy5cui-zhKsCq3k491yaun5Hd5b_QECTjCrpCytkndDg/exec","fbPixel":"1072283127290819","ttPixel":"D2D02JBC77U4ENLN9SBG","snapPixel":"b143822e-1c3c-40ff-93f7-edadee74e626"}, f: {name:'', phone:'', address:'', payment:'Cash', process:'Direct'},
                // Timer Logic
                time: 3180,
                get timer() { const m=Math.floor(this.time/60); const s=this.time%60; return `${m}:${s<10?'0':''}${s}`; },
                
                init(l) { 
                    this.lang = l || (navigator.language.startsWith('he')?'he':'ar'); 
                    if(this.blocks.some(b => b.type === 'sales_pop')) {
                        setInterval(() => {
                            const names = this.lang === 'he' ? ['◊ê◊ó◊û◊ì','◊©◊®◊î','◊û◊ï◊ó◊û◊ì','◊†◊ï◊®','◊¢◊ï◊û◊®'] : ['ÿ£ÿ≠ŸÖÿØ','ÿ≥ÿßÿ±ÿ©','ŸÖÿ≠ŸÖÿØ','ŸÜŸàÿ±','ÿπŸÖÿ±'];
                            const cities = this.lang === 'he' ? ['◊ô◊®◊ï◊©◊ú◊ô◊ù','◊ó◊ô◊§◊î','◊†◊¶◊®◊™','◊™◊ú ◊ê◊ë◊ô◊ë'] : ['ÿßŸÑŸÇÿØÿ≥','ÿ≠ŸäŸÅÿß','ÿßŸÑŸÜÿßÿµÿ±ÿ©','ŸäÿßŸÅÿß'];
                            const name = names[Math.floor(Math.random() * names.length)];
                            const city = cities[Math.floor(Math.random() * cities.length)];
                            this.pop.msg = this.lang === 'he' ? `${name} ◊û${city} ◊ß◊†◊î ◊¢◊õ◊©◊ô◊ï` : `${name} ŸÖŸÜ ${city} ÿßÿ¥ÿ™ÿ±Ÿâ ÿßŸÑÿ¢ŸÜ`;
                            this.pop.show = true;
                            setTimeout(() => this.pop.show = false, 4000);
                        }, 15000);
                    }
                    setInterval(() => { if(this.time > 0) this.time--; }, 1000);

                    // Load Pixels Delayed for Speed
                    setTimeout(loadPixels, 3500);
                },
                trackInput() {
                    if(!this.hasStartedTyping && this.f.name.length > 2) {
                        this.hasStartedTyping = true;
                        const p = { content_name: 'A118-G104-P107-Y102-B103', value: 500, currency: 'ILS' };
                        // Ensure objects exist before tracking
                        if(window.fbq) fbq('track', 'AddToCart', p);
                        if(window.ttq) ttq.track('AddToCart', p);
                        if(window.snaptr) snaptr('track', 'ADD_CART', p);
                    }
                },
                async submitForm() {
                    this.loading = true;
                    await new Promise(r => setTimeout(r, 800));
                    const fd = new FormData();
                    Object.keys(this.f).forEach(k => fd.append(k, this.f[k]));
                    fd.append('lang', this.lang);
                    fd.append('offer', 'A118-G104-P107-Y102-B103');
                    fd.append('price', '500');
                    fd.append('admin_phone', '972525105889');
                    try {
                        if(window.fbq) fbq('track', 'Purchase', {value: 500, currency: 'ILS', content_name: 'A118-G104-P107-Y102-B103'});
                        if(window.ttq) ttq.track('CompletePayment', {value: 500, currency: 'ILS', content_name: 'A118-G104-P107-Y102-B103'});
                        if(window.snaptr) snaptr('track', 'PURCHASE', {currency: 'ILS', price: 500});

                        await fetch(this.c.sheetUrl, { method: 'POST', body: fd, mode: 'no-cors' });
                        await new Promise(r => setTimeout(r, 1500));
                        this.loading = false;
                        this.submitted = true;
                        this.f = {name:'', phone:'', address:'', payment:'Cash', process:'Direct'};
                    } catch(e) { this.loading = false; alert('Error'); }
                }
            }
        }
    </script>
</body>
</html>
