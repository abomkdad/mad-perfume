<!DOCTYPE html>
<html lang="ar" dir="rtl" x-data="app()" x-init="init()">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Performance Hints -->
<meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">

<!-- Preload HERO (WEBP FAST) -->
<link rel="preload" as="image" href="product_hero.webp" fetchpriority="high">

<!-- Preconnect Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Heebo:wght@400;700;900&display=swap" rel="stylesheet">

<!-- Tailwind Static Ultra Fast -->
<link rel="stylesheet" href="https://unpkg.com/tailwindcss@3.4.1/dist/tailwind.min.css">

<!-- Icons -->
<script src="https://unpkg.com/lucide@latest" defer></script>

<style>

/* Layout Stability */
* {
 box-sizing:border-box;
 font-display:swap;
}

body {
 background:#cfd0d0;
 color:#000;
 font-family:'Cairo','Heebo',sans-serif;
 overflow-x:hidden;
}

/* Prevent CLS */
img {
 aspect-ratio:4 / 5;
}

/* Inputs */
.mad-input {
 width:100%;
 padding:15px;
 background:#f8fafc;
 border:1px solid #e2e8f0;
 border-radius:14px;
 margin-bottom:12px;
 font-weight:700;
}

.mad-radio-ui {
 border:1px solid #e2e8f0;
 border-radius:14px;
 padding:16px;
 background:#f8fafc;
 text-align:center;
 cursor:pointer;
 font-weight:800;
}

input[type="radio"]:checked + .mad-radio-ui {
 border-color:#000;
 background:#fff;
 box-shadow:0 4px 12px rgba(0,0,0,.05);
}

/* CTA */
.btn-order-main {
 background:#000;
 color:#fff;
 padding:20px;
 border-radius:18px;
 font-weight:900;
 font-size:1.3rem;
 width:100%;
 display:block;
 text-align:center;
}

/* Fix CLS for form */
#order {
 min-height:480px;
}

/* Lazy Sections */
.page-block {
 content-visibility:auto;
 contain-intrinsic-size:0 400px;
}

</style>

</head>

<body class="pb-20">

<!-- NAV -->
<nav class="p-4 flex justify-center border-b border-black/5 bg-white/40 backdrop-blur-lg sticky top-0 z-50">
 <span class="font-black text-xl">MAD PARFUMEUR</span>
</nav>

<!-- HERO -->
<header class="text-center py-10 px-4">
 <h1 class="text-3xl font-black">
 أقوى العروض الحصرية بـ 150 شيكل
 </h1>
</header>

<!-- MAIN -->
<main class="max-w-md mx-auto">

<!-- HERO IMAGE -->
<div class="my-6 px-4 page-block text-center">

<picture>
 <!-- FAST VERSION -->
 <source srcset="product_hero.webp" type="image/webp">

 <!-- FALLBACK ORIGINAL PNG -->
 <img 
 <link rel="preload" as="image" href="/assets/hero/w183.webp" fetchpriority="high">
 width="360"
 height="450"
 fetchpriority="high"
 loading="eager"
 decoding="async"
 class="rounded-2xl mx-auto shadow-lg w-full"
 alt="MAD Perfume Offer">
</picture>

</div>

<!-- COMPARISON -->
<div class="px-4 page-block">

<div class="space-y-2 text-right">

<div class="grid grid-cols-2 rounded-xl overflow-hidden border border-black/5">
<div class="bg-gray-50 p-4">
<span class="text-xs font-black text-amber-600">MAD</span>
<p class="font-bold">ثبات عالي</p>
</div>
<div class="bg-white p-4 text-gray-400">
<span class="text-xs font-black">OTHERS</span>
<p>ثبات ضعيف</p>
</div>
</div>

<div class="grid grid-cols-2 rounded-xl overflow-hidden border border-black/5">
<div class="bg-gray-50 p-4">
<span class="text-xs font-black text-amber-600">MAD</span>
<p class="font-bold">جودة أوروبية</p>
</div>
<div class="bg-white p-4 text-gray-400">
<span class="text-xs font-black">OTHERS</span>
<p>تجاري</p>
</div>
</div>

</div>

</div>

<!-- FORM -->
<div class="px-4 page-block">

<div class="bg-white rounded-[28px] p-8 shadow-sm mt-6" id="order">

<h2 class="text-2xl font-black text-center mb-6">
إتمام الطلب السريع
</h2>

<form @submit.prevent="submitForm">

<input x-model="f.name" @input="trackInput" class="mad-input" required placeholder="الاسم الكامل">

<input x-model="f.phone" class="mad-input" required placeholder="رقم الهاتف">

<input x-model="f.address" class="mad-input" required placeholder="العنوان">

<div class="grid grid-cols-2 gap-3 mb-4">

<label>
<input type="radio" x-model="f.payment" value="Cash" hidden required>
<div class="mad-radio-ui">نقداً</div>
</label>

<label>
<input type="radio" x-model="f.payment" value="Visa" hidden required>
<div class="mad-radio-ui">فيزا</div>
</label>

</div>

<button type="submit"
class="w-full py-5 bg-black text-white rounded-xl font-black text-xl"
x-text="loading?'...':'تأكيد الطلب الآن'">
</button>

</form>

</div>

</div>

</main>

<!-- Alpine Lazy -->
<script>
setTimeout(()=>{
 const s=document.createElement("script");
 s.src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js";
 s.defer=true;
 document.body.appendChild(s);
},200);
</script>

<!-- Pixels After Load -->
<script>
window.addEventListener('load',()=>{

/* META */
!function(f,b,e,v,n,t,s){
if(f.fbq)return;
n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)n=f.fbq;
n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];
t=b.createElement(e);t.async=!0;
t.src=v;
s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)
}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');

fbq('init','1072283127290819');
fbq('track','PageView');

/* TIKTOK */
!function(w,d,t){
w.TiktokAnalyticsObject=t;
var ttq=w[t]=w[t]||[];
ttq.methods=["page","track"];
ttq.methods.forEach(e=>ttq[e]=function(){
ttq.push([e].concat([].slice.call(arguments)))
});
ttq.load=function(id){
var s=d.createElement("script");
s.async=true;
s.src="https://analytics.tiktok.com/i18n/pixel/events.js?sdkid="+id;
d.head.appendChild(s)
};
ttq.load('D2D02JBC77U4ENLN9SBG');
ttq.page();
}(window,document,'ttq');

});
</script>

<!-- APP -->
<script>
function app(){

return {

loading:false,

f:{
 name:'',
 phone:'',
 address:'',
 payment:''
},

hasStartedTyping:false,

trackInput(){
 if(this.hasStartedTyping) return;
 if(this.f.name.length>2){
  this.hasStartedTyping=true;
  fbq('track','AddToCart');
  ttq.track('AddToCart');
 }
},

submitForm(){

if(this.loading) return;
this.loading=true;

fbq('track','Purchase',{value:150,currency:'ILS'});
ttq.track('CompletePayment',{value:150,currency:'ILS'});

setTimeout(()=>{
 this.loading=false;
 alert('تم إرسال الطلب بنجاح');
},800);

},

init(){
 setTimeout(()=>lucide.createIcons(),300);
}

}

}
</script>

</body>
</html>
