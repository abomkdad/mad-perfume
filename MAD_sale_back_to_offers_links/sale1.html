<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>باقة النخبة الوردية - MAD Parfumeur</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap');
        body { font-family: 'Cairo', sans-serif; background-color: #EAEDED; scroll-behavior: smooth; }
        .amazon-orange { color: #FF9900; }
        .amazon-bg-navy { background-color: #131921; }
        .amazon-bg-yellow { background-color: #FFD814; border: 1px solid #FCD200; }
        .amazon-bg-yellow:hover { background-color: #F7CA00; }
        .star-filled { fill: #FFA41C; color: #FFA41C; }
        .star-empty { fill: transparent; color: #FFA41C; }
        .form-input { width: 100%; padding: 12px; border: 1px solid #D5D9D9; border-radius: 8px; font-size: 14px; outline-color: #FF9900; background-color: white; }
        .product-card { background-color: white; border: 1px solid #D5D9D9; border-radius: 8px; overflow: hidden; }
        .loading-spinner { border: 3px solid rgba(255, 255, 255, 0.3); border-radius: 50%; border-top: 3px solid #fff; width: 20px; height: 20px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .full-size-img { width: 100%; height: auto; display: block; object-fit: cover; }
        .interactive-star { cursor: pointer; transition: transform 0.1s; }
        .interactive-star:hover { transform: scale(1.2); }
    </style>
    <script>
        const PIXELS = { facebook: "1072283127290819", tiktok: "D2D02JBC77U4ENLN9SBG", snapchat: "b143822e-1c3c-40ff-93f7-edadee74e626" };
        !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', PIXELS.facebook); fbq('track', 'PageView');
        !function (w, d, n) { var ttq = w[n] = w[n] || []; ttq.methods = ["page", "track", "identify", "instances", "debug", "on", "off", "once", "ready", "alias", "group", "aliasWithContext", "setAndLog", "set", "get", "getAndLog", "setContext", "getContext", "getPlugin", "setPlugin", "deletePlugin", "setInstance", "getInstance", "setEventSettings", "getEventSettings", "setGlobalSettings", "getGlobalSettings", "setAndGetGlobalSettings", "getAndSetGlobalSettings", "setAndGetEventSettings", "getAndSetEventSettings", "setAndGetInstances", "getAndSetInstances", "setAndGetInstancesWithContext", "getAndSetInstancesWithContext", "setAndGetEventSettingsWithContext", "getAndSetEventSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext"]; ttq.setAndLog = function (t, e) { ttq.set(t, e); ttq.log(t, e) }; ttq.set = function (t, e) { ttq[t] = e }; ttq.get = function (t) { return ttq[t] }; ttq.instances = []; ttq.load = function (e, t) { var n = "https://analytics.tiktok.com/i18n/pixel/events.js"; ttq._i = ttq._i || {}, ttq._i[e] = [], ttq._i[e]._u = n, ttq._t = ttq._t || {}, ttq._t[e] = +new Date, ttq._o = ttq._o || {}, ttq._o[e] = t || {}; ttq._v = ttq._v || "1.0.11"; var i = d.createElement("script"); i.type = "text/javascript", i.async = !0, i.src = n + "?sdkid=" + e + "&lib=" + n; var a = d.getElementsByTagName("script")[0]; a.parentNode.insertBefore(i, a) }; ttq.methods.forEach(function(m) { ttq[m] = (function(method) { return function() { ttq.push([method].concat(Array.prototype.slice.call(arguments, 0))); }; })(m); }); ttq.load(PIXELS.tiktok); ttq.page(); }(window, document, 'ttq');
    </script>
</head>
<body class="text-[#0F1111]">
    <header class="amazon-bg-navy text-white p-3 sticky top-0 z-50 shadow-md">
        <div class="max-w-6xl mx-auto flex items-center justify-between gap-4">
                        <div class="flex items-center gap-3">
                <button onclick="window.location.href='links.html'" class="flex items-center gap-2 bg-white/10 hover:bg-white/20 px-4 py-2 rounded-full text-xs font-bold transition shadow-sm">
                    <span id="back-icon"></span>
                    <span id="back-text">رجوع للعروض</span>
                </button>
                <div class="text-2xl font-bold">MAD<span class="amazon-orange">.</span></div>
            </div>
    
            <button onclick="toggleLangManually()" class="flex items-center gap-1 border border-transparent hover:border-white p-2 rounded transition-all">
                <i data-lucide="globe" class="w-5 h-5"></i>
                <span id="lang-text" class="text-sm font-bold">עברית</span>
            </button>
        </div>
    </header>

    <main class="max-w-6xl mx-auto py-8 px-4">
        <div class="product-card flex flex-col md:flex-row gap-8 p-6 md:p-10 mb-12 relative">
            <div class="w-full md:w-1/2 rounded-xl overflow-hidden bg-white flex items-start justify-center shadow-lg">
                <!--  -->
                <img id="product-img" src="https://www.mad-parfumeur.com/assets/hero/1.webp" class="full-size-img" alt="باقة النخبة الوردية">
            </div>
            <div id="order-section" class="flex-1 text-right bg-[#f7f8f8] p-6 md:p-8 rounded-xl border border-gray-100 relative">
                <div id="success-message" class="hidden absolute inset-0 bg-white/95 z-20 rounded-xl flex flex-col items-center justify-center p-6 text-center fade-in">
                    <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-6"><i data-lucide="check-circle" class="w-12 h-12"></i></div>
                    <h2 id="success-title" class="text-3xl font-black mb-4"></h2>
                    <p id="success-desc" class="text-gray-600 text-lg"></p>
                </div>
                <div id="form-content">
                    <div class="mb-6"><span id="badge" class="bg-[#E47911] text-white text-xs font-bold px-2 py-1 rounded-sm uppercase tracking-wider"></span><h1 id="product-title" class="text-3xl md:text-4xl font-black mt-4 mb-2"></h1><p id="product-subtitle" class="text-gray-600 text-lg"></p></div>
                    <div class="flex items-center gap-2 mb-8 justify-start"><div class="flex" id="stars-top"></div><span id="review-count-text" class="text-[#007185] text-sm font-bold"></span></div>
                    <h2 id="order-title" class="text-xl font-bold mb-6 amazon-orange border-b pb-2 text-right"></h2>
                    <form onsubmit="event.preventDefault(); confirmOrder();" class="space-y-5">
                        <div><label id="label-phone" class="block text-sm font-bold mb-2"></label><input type="tel" id="form-phone" class="form-input text-right" placeholder="05XXXXXXXX" autocomplete="tel" required></div>
                        <div><label id="label-name" class="block text-sm font-bold mb-2"></label><input type="text" id="form-name" class="form-input text-right" placeholder="أحمد محمد / אחמד מוחמד" autocomplete="name" required></div>
                        <div><label id="label-address" class="block text-sm font-bold mb-2"></label><input type="text" id="form-address" class="form-input text-right" placeholder="يافا / יפו" autocomplete="address-level2" required></div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div><label id="label-payment" class="block text-sm font-bold mb-2"></label><select id="form-payment" class="form-input text-right"></select></div>
                            <div><label id="label-process" class="block text-sm font-bold mb-2"></label><select id="form-process" class="form-input text-right"></select></div>
                        </div>
                        <input type="hidden" id="form-product" value="باقة النخبة الوردية">
                        <button id="submit-btn" type="submit" class="w-full amazon-bg-yellow py-5 mt-6 rounded-full text-xl font-black shadow-lg flex items-center justify-center gap-3 transform transition-transform active:scale-95">
                            <i id="btn-icon" data-lucide="shopping-cart"></i><span id="btn-text"></span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
        <div class="bg-white border border-gray-200 p-8 rounded-xl text-right shadow-sm mb-12">
            <h2 id="reviews-title" class="text-2xl font-black mb-8 border-b pb-4">مراجعات العملاء</h2>
            <div class="bg-gray-50 p-6 rounded-lg border mb-10 text-right">
                <h4 id="add-review-label" class="font-bold mb-4"></h4>
                <div class="flex gap-1 mb-4 justify-start" id="user-star-selection"></div>
                <textarea id="user-review-text" class="form-input h-24 mb-4 text-right" placeholder="اكتب رأيك هنا... / כתבו את דעתכם כאן..."></textarea>
                <button onclick="addUserReview()" id="publish-review-btn" class="bg-white border border-gray-300 px-6 py-2 rounded-lg font-bold hover:bg-gray-100 transition-all"></button>
            </div>
            <div id="reviews-list" class="space-y-8"></div>
        </div>
    </main>
    <footer class="mt-20 py-10 border-t border-gray-300 bg-white text-center">
        <div class="text-2xl font-black mb-4">MAD<span class="amazon-orange">.</span></div>
        <p id="footer-text" class="text-[10px] text-gray-500 font-bold uppercase tracking-widest text-center"></p>
    </footer>

    <script>
        let currentLang = 'ar';
        let userRatingChoice = 5;
        const ZAPIER_HOOK = "https://hooks.zapier.com/hooks/catch/14790106/ue4uy7j/";
        const trans = {
            ar: { back: "رجوع للعروض", langBtn: "עברית", productTitle: "باقة النخبة الوردية", productSubtitle: "مجموعة متكاملة من العطور واللوشن الفاخر", badge: "الأكثر مبيعاً", orderTitle: "إتمام الطلب المباشر", reviewCount: "1,540 تقييم", phoneLabel: "رقم الهاتف", nameLabel: "الاسم الكامل", addressLabel: "العنوان الكامل", paymentLabel: "طريقة الدفع", paymentCash: "كاش عند الاستلام", paymentBank: "تحويل بنكي", paymentCard: "بطاقة ائتمان", processLabel: "حالة الطلب", processNew: "طلب جديد", btn: "تأكيد الطلب الآن", reviews: "مراجعات العملاء المميزة", addReviewLabel: "أضف تقييمك الخاص:", publishBtn: "نشر التقييم", verified: "مشتري مؤكد", loading: "جاري المعالجة...", successT: "تم استلام طلبك بنجاح!", successD: "شكراً لك. سيقوم فريقنا بالتواصل معك قريباً لتأكيد موعد التوصيل.", footer: "جميع الحقوق محفوظة © 2024 - MAD Parfumeur", you: "أنت (تقييم جديد)" },
            he: { back: "חזרה למבצעים", langBtn: "عربي", productTitle: "מארז יוקרה ורוד", productSubtitle: "ערכת בשמים ותחליבים יוקרתית ושלמה", badge: "הנמכר ביותר", orderTitle: "ביצוע הזמנה ישירה", reviewCount: "1,540 ביקורות", phoneLabel: "מספר טלפון", nameLabel: "שם מלא", addressLabel: "כתובת מלאה", paymentLabel: "אמצעי תשלום", paymentCash: "מזומן", paymentBank: "העברה בנקאית", paymentCard: "כרטיס אשראי", processLabel: "סטטוס הזמנה", processNew: "הזמנה חדשה", btn: "אשר הזמנה כעת", reviews: "ביקורות לקוחות נבחרות", addReviewLabel: "הוסיפו ביקורת משלכם:", publishBtn: "פרסם ביקורת", verified: "רכישה מאומתת", loading: "מעבד...", successT: "ההזמנה התקבלה בהצלחה!", successD: "תודה. הנתונים נשלחו וניצור איתך קשר בהקדם.", footer: "כל הזכויות שמורות © 2024 - MAD Parfumeur", you: "אתה (ביקורת חדשה)" }
        };
        let reviewsData = [
            { name: "أحمد منصور", text: { ar: "العطر نار اخوي، الثبات ولا غلطة والكل سألني شو حاطط.", he: "הבושם פצצה אחי, העמידות מעולה וכולם שאלו אותי מה שמתי." } },
            { name: "יוסי כהן", text: { ar: "العطر W183 خيالي، أفضل عطر جربته من سنين.", he: "בושם W183 פשוט דמיוני, הבושם הכי טוב שניסיתי מזה שנים." } },
            { name: "منى وتد", text: { ar: "وصلت الطلبية خلال يوم واحد، تغليف فخم جداً وريحة بتجنن.", he: "ההזמנה הגיע תוך יום אחד, אריזה יוקרתית וריח מדהים." } },
            { name: "שרה לוי", text: { ar: "أفضل شركة عطور في البلاد، دائماً مبدعين والخدمة سريعة.", he: "חברת הבשמים הכי טובה בארץ, תמיד יצירתיים ושירות מהיר." } },
            { name: "محمود جبارين", text: { ar: "شكراً عمي محمد على الخدمة السريعة والأمانة.", he: "תודה דוד מוחמד על השירות המהיר והאמינות." } },
            { name: "דנה אלוני", text: { ar: "المسك الوردية فخمة جداً، مناسبة للسهرات الراقية.", he: "המושק הוורוד יוקרתי מאוד, מתאים לערבים מיוחדים." } },
            { name: "يوسف حاج", text: { ar: "انصح الجميع بتجربة W183، ريحة ثابتة وقوية.", he: "ממליץ לכולם לנסות את W183, ריח חזק ועמיד." } },
            { name: "עידן ברק", text: { ar: "خدمة VIP وتوصيل سريع للبيت، شكراً لكم.", he: "שירות VIP ומשלוח מהיר עד הבית, תודה לכם." } },
            { name: "ليان حبيب", text: { ar: "الريحة بتضل يومين على الملابس، جودة عالمية.", he: "הריח נשאר יומיים על הבגדים, איכות עולמית." } },
            { name: "מיכאל מ.", text: { ar: "تجربة شراء ممتازة ومصداقية عالية جداً في التعامل.", he: "חוויית קנייה מצוינת ואמינות גבוהה מאוד." } }
        ];
        function autoDetectLanguage() { const browserLang = navigator.language || navigator.userLanguage; currentLang = browserLang.startsWith('he') ? 'he' : 'ar'; document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr'; }
        async function confirmOrder() {
            const phone = document.getElementById('form-phone').value; const name = document.getElementById('form-name').value; const address = document.getElementById('form-address').value; const payment = document.getElementById('form-payment').value; const process = document.getElementById('form-process').value; const product = document.getElementById('form-product').value;
            const btn = document.getElementById('submit-btn'); const btnText = document.getElementById('btn-text');
            if(!phone || !name || !address) return;
            btn.disabled = true; btnText.innerText = trans[currentLang].loading; document.getElementById('btn-icon').innerHTML = '<div class="loading-spinner"></div>';
            const payload = { identifierValue: phone, phone: phone, name: name, product: product, payment: payment, address: address, process: process, language: currentLang, timestamp: new Date().toISOString() };
            try { fetch(ZAPIER_HOOK, { method: "POST", body: JSON.stringify(payload), mode: 'no-cors' }); 
                if(typeof fbq === 'function') fbq('track', 'Purchase', { content_name: payload.product, value: 350, currency: 'ILS' });
                setTimeout(() => { document.getElementById('form-content').classList.add('hidden'); document.getElementById('success-message').classList.remove('hidden'); if(typeof lucide !== 'undefined') lucide.createIcons(); }, 1000);
            } catch (e) { btn.disabled = false; btnText.innerText = trans[currentLang].btn; }
        }
        function addUserReview() { const text = document.getElementById('user-review-text').value; if(!text) return; reviewsData.unshift({ name: trans[currentLang].you, text: { ar: text, he: text }, isUser: true, rating: userRatingChoice }); document.getElementById('user-review-text').value = ''; userRatingChoice = 5; render(); }
        function renderStars(rating, interactive = false) { let s = ''; for(let i=1; i<=5; i++) { const filled = i <= rating; if(interactive) { s += `<i data-lucide="star" onclick="userRatingChoice=${i}; render();" class="w-8 h-8 interactive-star ${filled ? 'star-filled' : 'star-empty'}"></i>`; } else { s += `<i data-lucide="star" class="w-4 h-4 ${filled ? 'star-filled' : 'star-empty'}"></i>`; } } return s; }
        function toggleLangManually() { currentLang = currentLang === 'ar' ? 'he' : 'ar'; document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr'; render(); }
        function render() {
            const t = trans[currentLang];
            const bt = document.getElementById('back-text'); if (bt) bt.innerText = t.back || 'رجوع للعروض';
            const bi = document.getElementById('back-icon');
            if (bi) bi.innerHTML = `<i data-lucide="${currentLang==='ar'?'arrow-right':'arrow-left'}" class="w-4 h-4"></i>`;
         document.getElementById('lang-text').innerText = t.langBtn; document.getElementById('product-title').innerText = t.productTitle; document.getElementById('product-subtitle').innerText = t.productSubtitle; document.getElementById('badge').innerText = t.badge; document.getElementById('order-title').innerText = t.orderTitle; document.getElementById('review-count-text').innerText = t.reviewCount; document.getElementById('btn-text').innerText = t.btn; document.getElementById('reviews-title').innerText = t.reviews; document.getElementById('add-review-label').innerText = t.addReviewLabel; document.getElementById('publish-review-btn').innerText = t.publishBtn; document.getElementById('success-title').innerText = t.successT; document.getElementById('success-desc').innerText = t.successD; document.getElementById('footer-text').innerText = t.footer;
            document.getElementById('label-phone').innerText = t.phoneLabel; document.getElementById('label-name').innerText = t.nameLabel; document.getElementById('label-address').innerText = t.addressLabel; document.getElementById('label-payment').innerText = t.paymentLabel; document.getElementById('label-process').innerText = t.processLabel;
            document.getElementById('form-payment').innerHTML = `<option value="Cash">${t.paymentCash}</option><option value="Card">${t.paymentCard}</option><option value="Bank Transfer">${t.paymentBank}</option>`;
            document.getElementById('form-process').innerHTML = `<option value="New Order">${t.processNew}</option>`;
            document.getElementById('stars-top').innerHTML = renderStars(5); document.getElementById('user-star-selection').innerHTML = renderStars(userRatingChoice, true);
            document.getElementById('reviews-list').innerHTML = reviewsData.map(r => `<div class="border-b pb-6 last:border-0 ${r.isUser ? 'bg-amber-50 p-4 rounded-lg' : ''}"><div class="flex items-center gap-3 mb-2 text-right"><div class="w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center"><i data-lucide="user" class="w-5 h-5 text-gray-500"></i></div><span class="font-bold text-sm">${r.name}</span></div><div class="flex items-center gap-2 mb-2 justify-start"><div class="flex">${renderStars(r.rating || 5)}</div><span class="text-[#C45500] text-xs font-bold underline mr-2">${t.verified}</span></div><p class="text-gray-800 text-lg leading-relaxed text-right">${r.text[currentLang]}</p></div>`).join('');
            if(typeof lucide !== 'undefined') lucide.createIcons();
        }
        window.onload = () => { autoDetectLanguage(); render(); };
    </script>
</body>
</html>
