<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAD Parfumeur - عروض حصرية</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap');
        body { font-family: 'Cairo', sans-serif; background-color: #EAEDED; scroll-behavior: smooth; }
        .amazon-orange { color: #FF9900; }
        .amazon-bg-navy { background-color: #131921; }
        .amazon-bg-yellow { background-color: #FFD814; border: 1px solid #FCD200; }
        .amazon-bg-yellow:hover { background-color: #F7CA00; }
        .star-filled { fill: #FFA41C; color: #FFA41C; }
        .star-empty { fill: transparent; color: #FFA41C; }
        .product-card { background-color: white; border: 1px solid #D5D9D9; border-radius: 4px; overflow: hidden; transition: transform 0.2s; }
        .product-card:hover { transform: translateY(-4px); box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        .full-size-img { width: 100%; height: auto; display: block; object-fit: cover; }
    </style>

    <script>
        // إعدادات التتبع
        const PIXELS = { 
            facebook: "1072283127290819", 
            tiktok: "D2D02JBC77U4ENLN9SBG", 
            snapchat: "b143822e-1c3c-40ff-93f7-edadee74e626" 
        };
        
        // Facebook Pixel
        !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
        n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', PIXELS.facebook); 
        fbq('track', 'PageView');

        // TikTok Pixel Fix - ضمان تعريف الدالة قبل الاستدعاء
        !function (w, d, n) {
            var ttq = w[n] = w[n] || [];
            ttq.methods = ["page", "track", "identify", "instances", "debug", "on", "off", "once", "ready", "alias", "group", "aliasWithContext", "setAndLog", "set", "get", "getAndLog", "setContext", "getContext", "getPlugin", "setPlugin", "deletePlugin", "setInstance", "getInstance", "setEventSettings", "getEventSettings", "setGlobalSettings", "getGlobalSettings", "setAndGetGlobalSettings", "getAndSetGlobalSettings", "setAndGetEventSettings", "getAndSetEventSettings", "setAndGetInstances", "getAndSetInstances", "setAndGetInstancesWithContext", "getAndSetInstancesWithContext", "setAndGetEventSettingsWithContext", "getAndSetEventSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext", "setAndGetGlobalSettingsWithContext", "getAndSetGlobalSettingsWithContext"];
            ttq.setAndLog = function (t, e) { ttq.set(t, e); ttq.log(t, e) }; ttq.set = function (t, e) { ttq[t] = e }; ttq.get = function (t) { return ttq[t] }; ttq.instances = [];
            ttq.load = function (e, t) {
                var n = "https://analytics.tiktok.com/i18n/pixel/events.js";
                ttq._i = ttq._i || {}, ttq._i[e] = [], ttq._i[e]._u = n, ttq._t = ttq._t || {}, ttq._t[e] = +new Date, ttq._o = ttq._o || {}, ttq._o[e] = t || {};
                ttq._v = ttq._v || "1.0.11";
                var i = d.createElement("script"); i.type = "text/javascript", i.async = !0, i.src = n + "?sdkid=" + e + "&lib=" + n;
                var a = d.getElementsByTagName("script")[0]; a.parentNode.insertBefore(i, a)
            };
            ttq.methods.forEach(function(m) { ttq[m] = (function(method) { return function() { ttq.push([method].concat(Array.prototype.slice.call(arguments, 0))); }; })(m); });
            ttq.load(PIXELS.tiktok);
            ttq.page();
        }(window, document, 'ttq');
    </script>
</head>
<body class="text-[#0F1111]">

    <header class="amazon-bg-navy text-white p-3 sticky top-0 z-50 shadow-md">
        <div class="max-w-6xl mx-auto flex items-center justify-between gap-4">
            <div class="text-2xl font-bold cursor-default">MAD<span class="amazon-orange">.</span></div>
            <div class="flex-1 max-w-xl hidden md:block text-right">
                <div class="relative">
                    <input type="text" class="w-full py-2 px-4 rounded-lg text-black focus:outline-[#FF9900]" placeholder="البحث في عروض ماد بارفيومير...">
                    <div class="absolute left-0 top-0 h-full bg-[#FEBD69] px-4 rounded-l-lg flex items-center cursor-pointer">
                        <i data-lucide="search" class="text-black w-5 h-5"></i>
                    </div>
                </div>
            </div>
            <button onclick="toggleLangManually()" class="flex items-center gap-1 border border-transparent hover:border-white p-2 rounded transition-all">
                <i data-lucide="globe" class="w-5 h-5"></i>
                <span id="lang-text" class="text-sm font-bold">עברית</span>
            </button>
        </div>
    </header>

    <main class="max-w-6xl mx-auto py-8 px-4">
        <!-- قسم العروض العشرة -->
        <h2 id="section-title" class="text-2xl font-black mb-6 text-right border-b pb-4">أفضل العروض الحالية / המבצעים הטובים ביותר</h2>
        
        <div id="offers-grid" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-16 text-right">
            <!-- سيتم توليد العروض بواسطة JavaScript -->
        </div>

        <!-- قسم التقييمات الـ 10 الكاملة -->
        <div class="bg-white border border-gray-200 p-8 rounded-lg shadow-sm mb-12">
            <h2 id="reviews-title" class="text-2xl font-black mb-8 border-b pb-4 text-right">مراجعات العملاء (10) / ביקורות לקוחות</h2>
            <div id="reviews-list" class="space-y-8">
                <!-- سيتم توليد المراجعات بواسطة JavaScript -->
            </div>
        </div>
    </main>

    <footer class="mt-20 py-10 border-t border-gray-300 bg-white text-center">
        <div class="text-2xl font-black mb-4 flex items-center justify-center">MAD<span class="amazon-orange">.</span></div>
        <div class="flex justify-center gap-6 mb-6 text-sm text-[#007185] font-bold">
            <a href="#" class="hover:underline">سياسة الخصوصية / מדיניות פרטיות</a>
            <a href="#" class="hover:underline">شروط الاستخدام / תנאי שימוש</a>
        </div>
        <p id="footer-text" class="text-[10px] text-gray-500 font-bold uppercase tracking-widest text-center"></p>
    </footer>

    <script>
        let currentLang = 'ar';

        const trans = {
            ar: {
                langBtn: "עברית", badge: "الأكثر مبيعاً", cta: "مشاهدة العرض والطلب", 
                reviews: "مراجعات العملاء المميزة", verified: "مشتري مؤكد", footer: "جميع الحقوق محفوظة © 2024 - MAD Parfumeur"
            },
            he: {
                langBtn: "عربي", badge: "הנמכר ביותר", cta: "צפה במבצע והזמן", 
                reviews: "ביקורות לקוחות נבחרות", verified: "רכישה מאומתת", footer: "כל הזכויות שמורות © 2024 - מד פרפומר"
            }
        };

        const products = [
            { id: 1, img: "https://www.mad-parfumeur.com/assets/hero/1.webp", name: { ar: "باقة النخبة الوردية", he: "מארז יוקרה ורוד" }, desc: { ar: "مجموعة متكاملة من العطور واللوشن الفاخر", he: "ערכת בשמים ותחליבים יוקרתית" } },
            { id: 2, img: "https://www.mad-parfumeur.com/assets/hero/2.webp", name: { ar: "ثنائي العطور الأكثر طلباً", he: "צמד הבשמים המבוקש ביותר" }, desc: { ar: "عطرين بحجم كبير - إصدار 350 شيكل", he: "שני בשמים בגודל מלא" } },
            { id: 3, img: "https://www.mad-parfumeur.com/assets/hero/3.webp", name: { ar: "باقة البريميوم السوداء", he: "מארז פרימיום שחור" }, desc: { ar: "عطور النيش المركزة لإطلالة ملكية", he: "בשמי נישה מרוכזים" } },
            { id: 4, img: "https://www.mad-parfumeur.com/assets/hero/4.webp", name: { ar: "مجموعة معطرات المنزل", he: "סט מפיצי ריח לבית" }, desc: { ar: "انتعاش يدوم طويلاً في كل زاوية", he: "רעננות שנשארת לאורך זמן" } },
            { id: 5, img: "https://www.mad-parfumeur.com/assets/hero/5.webp", name: { ar: "سلسلة W العالمية", he: "סדרת ה-W הבינלאומית" }, desc: { ar: "عطر W183 والروائح الأكثر مبيعاً", he: "בושם W183 והריחות הנמכרים" } },
            { id: 6, img: "https://www.mad-parfumeur.com/assets/hero/6.webp", name: { ar: "باقة العود المنزلي الفاخر", he: "מארז עוד ביתי יוקרתי" }, desc: { ar: "مبخرة ومعطرات بلمسات ذهبية", he: "מפיצי ריח ומבערים בנגיעות זהב" } },
            { id: 7, img: "https://www.mad-parfumeur.com/assets/hero/7.webp", name: { ar: "الإصدار الذهبي المحدود", he: "מהדורה מוזהבת מוגבלת" }, desc: { ar: "عطر مركز بتغليف ملكي للهدايا", he: "בושם מרוכז באריזה מלכותית" } },
            { id: 8, img: "https://www.mad-parfumeur.com/assets/hero/8.webp", name: { ar: "مجموعة الانتعاش اليومي", he: "ערכת רעננות יומיומית" }, desc: { ar: "روائح خفيفة ومثالية للاستخدام اليومي", he: "ריחות קלילים ואידיאליים" } },
            { id: 9, img: "https://www.mad-parfumeur.com/assets/hero/9.webp", name: { ar: "باقة ليلة العمر", he: "מארז ליל פעם בחיים" }, desc: { ar: "مزيج من عطور السهرة الجذابة", he: "שילוב בשמי ערב מושכים" } },
            { id: 10, img: "https://www.mad-parfumeur.com/assets/hero/10.webp", name: { ar: "التشكيلة الكلاسيكية الكاملة", he: "הקולקציה הקלאסית המלאה" }, desc: { ar: "أفضل ما قدمته ماد بارفيوم في باقة واحدة", he: "מיטב המוצרים במארז אחד" } }
        ];

        const reviewsData = [
            { name: "أحمد منصور", text: { ar: "العطر نار اخوي، الثبات ولا غلطة والكل سألني شو حاطط.", he: "הבושם פצצה אחי, העמידות מעולה וכולם שאלו אותי מה שמתי." } },
            { name: "יוסי כהן", text: { ar: "العطر W183 خيالي، أفضل عطر جربته من سنين.", he: "בושם W183 פשוט דמיוני, הבושם הכי טוב שניסיתי מזה שנים." } },
            { name: "منى وتد", text: { ar: "وصلت الطلبية خلال يوم واحد للقدس، تغليف فخم جداً.", he: "ההזמנה הגיעה תוך יום אחד לירושלים, אריזה יוקרתית מאוד." } },
            { name: "שרה לוי", text: { ar: "أفضل شركة عطور في البلاد، دائماً مبدعين والخدمة سريعة.", he: "חברת הבשמים הכי טובה בארץ, תמיד יצירתיים ושירות מהיר." } },
            { name: "محمود جبارين", text: { ar: "شكراً عمي محمد على الخدمة السريعة والأمانة.", he: "תודה דוד מוחמד על השירות המהיר והאמינות." } },
            { name: "דנה אלוני", text: { ar: "المسك الوردية فخمة جداً، مناسبة للسهرات الراقية.", he: "המושק הוורוד יוקרתי מאוד, מתאים לערבים מיוחדים." } },
            { name: "يوسف حاج", text: { ar: "انصح الجميع بتجربة W183، ريحة ثابتة وقوية.", he: "ממליץ לכולם לנסות את W183, ריח חזק ועמיד." } },
            { name: "עידן ברק", text: { ar: "خدمة VIP وتوصيل سريع للبيت، شكراً لكم.", he: "שירות VIP ומשלוח מהיר עד הבית, תודה לכם." } },
            { name: "ليان حبيب", text: { ar: "الريحة بتضل يومين على الملابس، جودة عالمية.", he: "הריח נשאר יומיים על הבגדים, איכות עולמית." } },
            { name: "מיכאל מ.", text: { ar: "تجربة شراء ممتازة ومصداقية عالية جداً في التعامل.", he: "חוויית קנייה מצוינת ואמינות גבוהה מאוד." } }
        ];

        // تعريف الدالة لتجنب أخطاء التحميل
        function autoDetectLanguage() {
            try {
                const browserLang = navigator.language || navigator.userLanguage;
                currentLang = browserLang.startsWith('he') ? 'he' : 'ar';
                document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            } catch (e) { currentLang = 'ar'; }
        }

        function toggleLangManually() {
            currentLang = currentLang === 'ar' ? 'he' : 'ar';
            document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            render();
        }

        function renderStars() {
            return `<div class="flex">${[1,2,3,4,5].map(() => `<i data-lucide="star" class="w-4 h-4 star-filled"></i>`).join('')}</div>`;
        }

        function render() {
            const t = trans[currentLang];
            document.getElementById('lang-text').innerText = t.langBtn;
            document.getElementById('footer-text').innerText = t.footer;

            // رندر العروض العشرة
            document.getElementById('offers-grid').innerHTML = products.map(p => `
                <div class="product-card p-4">
                    <img src="${p.img}" class="w-full h-64 object-cover rounded mb-4" alt="${p.name[currentLang]}">
                    <span class="bg-[#E47911] text-white text-[10px] font-bold px-2 py-0.5 rounded-sm">${t.badge}</span>
                    <h3 class="text-xl font-black mt-2 mb-1">${p.name[currentLang]}</h3>
                    <p class="text-gray-600 text-sm mb-4 h-10 overflow-hidden">${p.desc[currentLang]}</p>
                    <div class="mb-4">${renderStars()}</div>
                    <a href="sale${p.id}.html" class="block w-full amazon-bg-yellow py-3 rounded-full text-center text-sm font-black shadow-sm transform transition active:scale-95">
                        ${t.cta}
                    </a>
                </div>
            `).join('');

            // رندر التعليقات العشرة
            document.getElementById('reviews-list').innerHTML = reviewsData.map(r => `
                <div class="border-b pb-6 last:border-0 text-right">
                    <div class="flex items-center gap-3 mb-2 justify-end">
                        <span class="font-bold text-sm">${r.name}</span>
                        <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"><i data-lucide="user" class="w-5 h-5 text-gray-400"></i></div>
                    </div>
                    <div class="flex items-center gap-2 mb-2 justify-end">
                        <span class="text-[#C45500] text-xs font-bold underline ml-2">${t.verified}</span>
                        <div class="flex">${[1,2,3,4,5].map(() => `<i data-lucide="star" class="w-3 h-3 star-filled"></i>`).join('')}</div>
                    </div>
                    <p class="text-gray-800 text-lg leading-relaxed">${r.text[currentLang]}</p>
                </div>
            `).join('');

            lucide.createIcons();
        }

        window.onload = () => {
            autoDetectLanguage();
            render();
        };
    </script>
</body>
</html>
