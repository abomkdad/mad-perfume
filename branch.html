<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Branch Details</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&family=Tajawal:wght@300;500;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg-main: #000000; --gold-text: #D4AF37; --text-primary: #FFFFFF; --whatsapp-color: #25D366; --gold-gradient: linear-gradient(135deg, #BF953F, #FBF5B7, #AA771C); }
        body { background-color: var(--bg-main); font-family: 'Cairo', 'Tajawal', sans-serif; color: var(--text-primary); margin: 0; padding-bottom: 50px; }
        .branch-hero { position: relative; height: 300px; width: 100%; }
        .branch-hero-img { width: 100%; height: 100%; object-fit: cover; }
        .hero-overlay { position: absolute; inset: 0; background: linear-gradient(to top, #000 10%, transparent); }
        .back-btn { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.6); color: #fff; padding: 8px 15px; border-radius: 20px; text-decoration: none; border: 1px solid #444; backdrop-filter: blur(5px); }
        html[dir="ltr"] .back-btn { left: 20px; right: auto; }
        .container { padding: 20px; max-width: 800px; margin: -50px auto 0; position: relative; z-index: 2; }
        .branch-title { font-size: 2rem; font-weight: 800; color: var(--gold-text); text-align: center; margin-bottom: 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
        .info-card { background: #111; border: 1px solid #333; border-radius: 15px; padding: 20px; margin-bottom: 15px; }
        .section-title { font-size: 0.9rem; color: #888; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; }
        .text-content { font-size: 1.1rem; line-height: 1.6; }
        .actions-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 20px; }
        .btn { padding: 12px; border-radius: 10px; text-decoration: none; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; font-weight: bold; transition: 0.2s; font-size: 0.9rem; color: #fff; border: none; }
        .btn-waze { background: #1a1a1a; color: #33ccff; border: 1px solid #333; }
        .btn-call { background: var(--gold-gradient); color: #000; }
        .btn-whatsapp { background: var(--whatsapp-color); }
        .btn i { font-size: 1.4rem; font-style: normal; }
        .social-links { display: flex; justify-content: center; gap: 20px; margin-top: 30px; }
        .social-icon { width: 50px; height: 50px; background: #222; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--gold-text); text-decoration: none; font-size: 1.5rem; transition: 0.3s; border: 1px solid #333; }
        .social-icon:hover { background: var(--gold-text); color: #000; transform: translateY(-3px); }
    </style>
</head>
<body>

    <div class="branch-hero">
        <img id="bImg" src="" class="branch-hero-img">
        <div class="hero-overlay"></div>
        <a href="index.html" class="back-btn" id="backBtn">â¬… Back</a>
    </div>

    <div class="container">
        <h1 id="bName" class="branch-title">...</h1>

        <div class="info-card">
            <div class="section-title" id="lblDesc">Description</div>
            <div id="bDesc" class="text-content">...</div>
        </div>

        <div class="info-card">
            <div class="section-title" id="lblHours">Hours</div>
            <div id="bHours" class="text-content">...</div>
        </div>

        <div class="actions-grid">
            <a id="btnCall" href="#" class="btn btn-call">
                <i>ðŸ“ž</i> <span id="txtCall">Call</span>
            </a>
            <a id="btnWa" href="#" target="_blank" class="btn btn-whatsapp">
                <i>ðŸ’¬</i> <span id="txtWa">WhatsApp</span>
            </a>
            <a id="btnWaze" href="#" target="_blank" class="btn btn-waze">
                <i>â†—</i> <span id="txtWaze">Waze</span>
            </a>
        </div>

        <div class="social-links">
            <a id="linkFb" href="#" target="_blank" class="social-icon">f</a>
            <a id="linkInsta" href="#" target="_blank" class="social-icon">ðŸ“¸</a>
            <a id="linkTiktok" href="#" target="_blank" class="social-icon">ðŸŽµ</a>
        </div>
    </div>
    
    <script>
        // --- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¯Ù…Ø¬Ø© Ù‡Ù†Ø§ Ø£ÙŠØ¶Ø§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© ---
        const genericImages = [
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR12uz7uY34z8nwyVEKWyx-JrNQywQ9Th3Z6Q&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHFblPsXbzvGYO2_e280p0rZYgcz3znQdFTQ&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJtcRkHFtdWjbXTUPdKzaHnX8gTSaaloy1qQ&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUXBgnRtca1N4UFoJtugnGkIoJKCwSTqHeGQ&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjaeKBGs-cv9K9a6Apca11aBXmVzMSiqsaBA&s"
        ];

        // Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ø´Ø±ÙƒØ© (ØªØ³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù„Ù„ÙØ±Ø¹ Ø±Ø§Ø¨Ø· Ø®Ø§Øµ)
        const mainSocial = {
            facebook: "https://www.facebook.com/s0524033442/",
            instagram: "https://www.instagram.com/perfume.mad/",
            tiktok: "https://www.tiktok.com/@mad.perfume"
        };

        const branchesData = [
            { id: 12, nameAr: "Ø­ÙŠÙØ§", nameHe: "×—×™×¤×”", phone: "0549634449", waze: "Mad Parfumeur Haifa", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00", facebook: "https://www.facebook.com/s0524033442/", instagram: "https://www.instagram.com/perfume.mad/" },
            { id: 4, nameAr: "ØªÙ„ Ø£Ø¨ÙŠØ¨ - ÙŠØ§ÙØ§", nameHe: "×ª×œ ××‘×™×‘-×™×¤×•", phone: "0527035370", directLink: "https://ul.waze.com/ul?place=EipEYXZpZCBSYXppJ2VsIFN0IDIzLCBUZWwgQXZpdi1ZYWZvLCBJc3JhZWwiMBIuChQKEgntsiS-vkwdFREv7GII8cikqxAXKhQKEgmHZ_csvEwdFRFa3i1EzNr69g", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 3, nameAr: "Ø§Ù„Ø±Ù…Ù„Ù‡", nameHe: "×¨×ž×œ×”", phone: "0527035370", waze: "Ramla", hoursAr: "09:00 - 21:00", hoursHe: "09:00 - 21:00" },
            { id: 7, nameAr: "Ù‡ÙŠØ±ØªØ³ÙŠÙ„ÙŠØ§", nameHe: "×”×¨×¦×œ×™×”", phone: "0522438398", waze: "Herzliya", hoursAr: "10:00 - 20:00", hoursHe: "10:00 - 20:00" },
            { id: 14, nameAr: "Ø§Ù„Ø®Ø¶ÙŠØ±Ø©", nameHe: "×—×“×¨×”", phone: "0523953681", waze: "Hadera", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 24, nameAr: "ÙŠØ±ÙƒØ§", nameHe: "×™×¨×›×", phone: "0546842420", waze: "Yarka", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 21, nameAr: "Ø·Ù…Ø±Ø©", nameHe: "×˜×ž×¨×”", phone: "0505830733", waze: "Tamra", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 23, nameAr: "Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„Ù…ÙƒØ±", nameHe: "×’×³×“×™×“×” ××œ×ž×›×¨", phone: "0508683838", waze: "Jadeidi-Makr", hoursAr: "11:00 - 21:00", hoursHe: "11:00 - 21:00" },
            { id: 22, nameAr: "Ø³Ø®Ù†ÙŠÙ†", nameHe: "×¡×—'× ×™×Ÿ", phone: "0525335571", waze: "Sakhnin", hoursAr: "10:30 - 22:30", hoursHe: "10:30 - 22:30" },
            { id: 2, nameAr: "ÙƒÙØ± Ù…Ù†Ø¯Ø§", nameHe: "×›×¤×¨ ×ž×× ×“×", phone: "0505102019", waze: "Kafr Manda", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 1, nameAr: "Ø¯Ø§Ù„ÙŠØ© Ø§Ù„ÙƒØ±Ù…Ù„", nameHe: "×“×œ×™×ª ××œ ×›×¨×ž×œ", phone: "0525592293", waze: "Daliyat al-Karmel", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 9, nameAr: "Ø§Ù„Ù‚Ø¯Ø³ - ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†", nameHe: "×™×¨×•×©×œ×™× - ×¡×œ××— ×-×“×™×Ÿ", phone: "0545697644", waze: "Salah Ad-din", hoursAr: "09:00-19:30", hoursHe: "09:00-19:30" },
            { id: 10, nameAr: "Ø§Ù„Ù‚Ø¯Ø³ - Ø³Ù„Ø·Ø§Ù† Ø³Ù„ÙŠÙ…Ø§Ù†", nameHe: "×™×¨×•×©×œ×™× - ×¡×•×œ×˜××Ÿ ×¡×•×œ×™×ž××Ÿ", phone: "0545697644", waze: "Sultan Suleiman", hoursAr: "09:00-19:30", hoursHe: "09:00-19:30" },
            { id: 11, nameAr: "Ø¨ÙŠØª Ø­Ù†ÙŠÙ†Ø§", nameHe: "×‘×™×ª ×—× ×™× ×", phone: "0538318312", waze: "Beit Hanina", hoursAr: "09:00-21:00", hoursHe: "09:00-21:00" },
            { id: 5, nameAr: "Ø¨Ø¦Ø± Ø§Ù„Ø³Ø¨Ø¹", nameHe: "×‘××¨ ×©×‘×¢", phone: "0548809957", waze: "Beersheba", hoursAr: "09:00 - 20:00", hoursHe: "09:00 - 20:00" },
            { id: 6, nameAr: "Ø±Ù‡Ø·", nameHe: "×¨×”×˜", phone: "0505841596", waze: "Rahat", hoursAr: "09:00 - 20:00", hoursHe: "09:00 - 20:00" },
            { id: 18, nameAr: "Ø£Ù… Ø§Ù„ÙØ­Ù…", nameHe: "××•× ××œ×¤×—×", phone: "0549634449", waze: "Umm al-Fahm", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 19, nameAr: "Ø§Ù„Ø¹ÙÙˆÙ„Ø©", nameHe: "×¢×¤×•×œ×”", phone: "0542144255", waze: "Afula", hoursAr: "09:00 - 22:00", hoursHe: "09:00 - 22:00" },
            { id: 20, nameAr: "Ø§Ù„Ù†Ø§ØµØ±Ø©", nameHe: "× ×¦×¨×ª", phone: "0545307980", waze: "Nazareth", hoursAr: "09:00 - 22:00", hoursHe: "09:00 - 22:00" },
            { id: 15, nameAr: "Ø¨Ø§Ù‚Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ©", nameHe: "×‘××§×” ××œ×’×³×¨×‘×™×™×”", phone: "0536440073", waze: "Baqa al-Gharbiyye", hoursAr: "10:00 - 23:00", hoursHe: "10:00 - 23:00" },
            { id: 17, nameAr: "ÙƒÙØ± Ù‚Ø±Ø¹", nameHe: "×›×¤×¨ ×§×¨×¢", phone: "0549634449", waze: "Kafr Qara", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 8, nameAr: "ÙƒÙØ± Ù‚Ø§Ø³Ù…", nameHe: "×›×¤×¨ ×§××¡×", phone: "0522438398", waze: "Kafr Qasim", hoursAr: "11:00 - 23:00", hoursHe: "11:00 - 23:00" },
            { id: 16, nameAr: "Ø§Ù„Ø·ÙŠØ¨Ø©", nameHe: "×˜×™×™×‘×”", phone: "0523953681", waze: "Tayibe", hoursAr: "10:00 - 23:00", hoursHe: "10:00 - 23:00" },
            { id: 25, nameAr: "Ø·Ø¨Ø±ÙŠØ§", nameHe: "×˜×‘×¨×™×”", phone: "046112266", waze: "Tiberias", hoursAr: "09:00 - 21:00", hoursHe: "09:00 - 21:00" },
            { id: 26, nameAr: "Ù…Ø¬Ø¯Ù„ Ø´Ù…Ø³", nameHe: "×ž×’'×“×œ ×©×ž×¡", phone: "0508514202", waze: "Majdal Shams", hoursAr: "12:00 - 21:00", hoursHe: "12:00 - 21:00" },
            { id: 29, nameAr: "Ø±Ø§Ù… Ø§Ù„Ù„Ù‡", nameHe: "×¨××ž××œ×œ×”", phone: "0592592502", waze: "Ramallah", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 27, nameAr: "Ù†Ø§Ø¨Ù„Ø³", nameHe: "×©×›×", phone: "0598094672", waze: "Nablus", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 31, nameAr: "Ù‚Ù„Ù‚ÙŠÙ„ÙŠØ©", nameHe: "×§×œ×§×•×œ×™×”", phone: "0595800150", waze: "Qalqilya", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 28, nameAr: "Ø·ÙˆÙ„ÙƒØ±Ù…", nameHe: "×˜×•×œ ×›×¨×", phone: "0595552670", waze: "Tulkarm", hoursAr: "10:00 - 20:00", hoursHe: "10:00 - 20:00" },
            { id: 30, nameAr: "Ø¨ÙŠØª Ù„Ø­Ù…", nameHe: "×‘×™×ª ×œ×—×", phone: "0599353940", waze: "Bethlehem", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" },
            { id: 32, nameAr: "Ø£Ø±ÙŠØ­Ø§", nameHe: "×™×¨×™×—×•", phone: "0592592502", waze: "Jericho", hoursAr: "10:00 - 22:00", hoursHe: "10:00 - 22:00" }
        ];

        const uiText = {
            ar: { backBtn: "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©", descriptionTitle: "Ø¹Ù† Ø§Ù„ÙØ±Ø¹", contactTitle: "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§", hoursTitle: "Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„", call: "Ø§ØªØµØ§Ù„", whatsapp: "ÙˆØ§ØªØ³Ø§Ø¨", waze: "Ù…Ù„Ø§Ø­Ø© WAZE", dir: "rtl" },
            he: { backBtn: "×—×–×¨×” ×œ×¨×©×™×ž×”", descriptionTitle: "××•×“×•×ª ×”×¡× ×™×£", contactTitle: "×¦×•×¨ ×§×©×¨", hoursTitle: "×©×¢×•×ª ×¤×ª×™×—×”", call: "×—×™×•×’", whatsapp: "×•×•××˜×¡××¤", waze: "WAZE", dir: "rtl" }
        };

        function getBranchImage(index) { return genericImages[index % genericImages.length]; }
        function formatPhoneForWhatsapp(phone) {
            let cleanPhone = phone.replace(/\D/g, '');
            if (cleanPhone.startsWith('0')) cleanPhone = '972' + cleanPhone.substring(1);
            return cleanPhone;
        }

        // --- Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ†ÙÙŠØ° ---
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');
        const lang = params.get('lang') || 'ar';

        document.documentElement.lang = lang;
        document.documentElement.dir = uiText[lang].dir;
        
        document.getElementById('backBtn').innerText = uiText[lang].backBtn;
        document.getElementById('lblDesc').innerText = uiText[lang].descriptionTitle;
        document.getElementById('lblHours').innerText = uiText[lang].hoursTitle;
        document.getElementById('txtCall').innerText = uiText[lang].call;
        document.getElementById('txtWa').innerText = uiText[lang].whatsapp;
        document.getElementById('txtWaze').innerText = uiText[lang].waze;

        const branch = branchesData.find(b => b.id == id);

        if (branch) {
            const name = lang === 'he' ? branch.nameHe : branch.nameAr;
            const defaultDesc = lang === 'he' ? `×‘×¨×•×›×™× ×”×‘××™× ×œ×¡× ×™×£ ${name} ×©×œ MAD PARFUMEUR` : `Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ ÙØ±Ø¹ ${name} Ù…Ù† MAD PARFUMEUR`;
            const desc = lang === 'he' ? (branch.descHe || defaultDesc) : (branch.descAr || defaultDesc);
            const hours = lang === 'he' ? branch.hoursHe : branch.hoursAr;
            
            const index = branchesData.indexOf(branch);
            document.getElementById('bImg').src = getBranchImage(index);

            document.getElementById('bName').innerText = name;
            document.getElementById('bDesc').innerText = desc;
            document.getElementById('bHours').innerText = hours;

            document.getElementById('btnCall').href = `tel:${branch.phone}`;
            
            let wazeLink = branch.directLink || `https://waze.com/ul?q=${encodeURIComponent(branch.waze || name)}&navigate=yes`;
            document.getElementById('btnWaze').href = wazeLink;

            let waNum = formatPhoneForWhatsapp(branch.phone);
            document.getElementById('btnWa').href = `https://wa.me/${waNum}`;

            // Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ Ø§Ù„Ø°ÙƒÙŠØ©
            const fbLink = branch.facebook && branch.facebook.length > 5 ? branch.facebook : mainSocial.facebook;
            document.getElementById('linkFb').href = fbLink;

            const instaLink = branch.instagram && branch.instagram.length > 5 ? branch.instagram : mainSocial.instagram;
            document.getElementById('linkInsta').href = instaLink;

            const tiktokLink = branch.tiktok && branch.tiktok.length > 5 ? branch.tiktok : mainSocial.tiktok;
            document.getElementById('linkTiktok').href = tiktokLink;

        } else {
            document.body.innerHTML = "<h2 style='text-align:center;color:white;margin-top:50px'>Branch Not Found</h2>";
        }
    </script>
</body>
</html>
