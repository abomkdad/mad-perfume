<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ„Ø¯ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ÙØ±ÙˆØ¹ - Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Cairo', sans-serif; background: #f4f4f4; padding: 20px; direction: rtl; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #333; }
        .setup-box { background: #e8f0fe; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #b3d7ff; }
        input[type="text"] { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; margin-top: 5px; font-family: sans-serif; direction: ltr; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; border-bottom: 1px solid #eee; text-align: right; }
        th { background: #f8f8f8; color: #555; }
        
        .btn-copy {
            background: #28a745; color: white; border: none; padding: 8px 15px; 
            border-radius: 5px; cursor: pointer; font-size: 0.9rem; transition: 0.3s;
        }
        .btn-copy:hover { background: #218838; }
        .link-preview { font-size: 0.85rem; color: #666; direction: ltr; display: inline-block; margin-right: 10px; font-family: monospace; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Ù„ÙˆØ­Ø© Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ÙØ±ÙˆØ¹ ğŸ”—</h1>
        
        <div class="setup-box">
            <label><strong>Ø®Ø·ÙˆØ© 1:</strong> Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù‡Ù†Ø§ (Ø¨Ø¹Ø¯ Ø§Ù„Ø±ÙØ¹ Ø¹Ù„Ù‰ GitHub):</label>
            <input type="text" id="baseUrl" value="https://YOUR-USERNAME.github.io/mad-branches" oninput="generateTable()">
            <p style="font-size:0.8rem; color:#666; margin-top:5px">Ù…Ø«Ø§Ù„: https://username.github.io/project-name</p>
        </div>

        <table>
            <thead>
                <tr>
                    <th>Ø§Ø³Ù… Ø§Ù„ÙØ±Ø¹</th>
                    <th>Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø®ØµØµ (Ù„Ù„Ø¨Ø§ÙŠÙˆ)</th>
                    <th>Ø¥Ø¬Ø±Ø§Ø¡</th>
                </tr>
            </thead>
            <tbody id="linksTable">
                </tbody>
        </table>
    </div>

    <script src="data.js"></script>

    <script>
        function generateTable() {
            const baseUrl = document.getElementById('baseUrl').value.replace(/\/$/, ""); // Ø­Ø°Ù Ø§Ù„Ø´Ø±Ø·Ø© Ø§Ù„Ù…Ø§Ø¦Ù„Ø© ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¥Ù† ÙˆØ¬Ø¯Øª
            const tbody = document.getElementById('linksTable');
            tbody.innerHTML = '';

            branchesData.forEach(branch => {
                // ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø±Ø§Ø¨Ø·: Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ + ØµÙØ­Ø© Ø§Ù„ÙØ±Ø¹ + Ø±Ù‚Ù… Ø§Ù„ÙØ±Ø¹
                const fullLink = `${baseUrl}/branch.html?id=${branch.id}`;
                
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td style="font-weight:bold">${branch.nameAr}</td>
                    <td><span class="link-preview">${fullLink}</span></td>
                    <td>
                        <button class="btn-copy" onclick="copyToClipboard('${fullLink}', this)">Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ğŸ“‹</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        function copyToClipboard(text, btn) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = btn.innerText;
                btn.innerText = "ØªÙ… Ø§Ù„Ù†Ø³Ø®! âœ…";
                btn.style.background = "#155724";
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.background = "#28a745";
                }, 2000);
            });
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.onload = generateTable;
    </script>
</body>
</html>
