<!DOCTYPE html>
<html lang="he" dir="rtl" id="madApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mad Parfumeur | רשת הבשמים הגדולה</title>
    <style>
        :root {
            --mad-blue: #1d3a8a;
            --mad-bg: #f8faff;
            --open-green: #22c55e;
            --closed-red: #ef4444;
            --text-main: #1e293b;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, sans-serif;
            background-color: var(--mad-bg);
            margin: 0;
            color: var(--text-main);
        }

        /* Header & Logo */
        header {
            background: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo { height: 45px; }

        .lang-btn {
            border: 1px solid var(--mad-blue);
            background: transparent;
            color: var(--mad-blue);
            padding: 5px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .lang-btn.active {
            background: var(--mad-blue);
            color: white;
        }

        /* Hero Image */
        .hero {
            width: 100%;
            height: 220px;
            background: url('header.jpg') center/cover no-repeat;
            margin-bottom: 25px;
        }

        .container { max-width: 500px; margin: 0 auto; padding: 0 15px; }

        /* Branch Card */
        .card {
            background: white;
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.04);
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .status-badge.is-open { background: #eefdf2; color: var(--open-green); }
        .status-badge.is-closed { background: #fef2f2; color: var(--closed-red); }

        .dot { width: 8px; height: 8px; border-radius: 50%; margin-left: 8px; background: currentColor; }

        .branch-name { font-size: 26px; font-weight: 800; color: var(--mad-blue); margin: 5px 0; }
        .hours-text { font-size: 15px; color: #64748b; margin-bottom: 20px; line-height: 1.5; }

        .shop-btn {
            background: var(--mad-blue);
            color: white;
            border: none;
            width: 100%;
            padding: 14px;
            border-radius: 12px;
            font-size: 17px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .shop-btn:active { transform: scale(0.98); }

        /* LTR Support */
        [dir="ltr"] .dot { margin-left: 0; margin-right: 8px; }
    </style>
</head>
<body>

<header>
    <img src="logo.png" alt="Mad Parfumeur" class="logo">
    <div class="lang-switch">
        <button id="btn-he" class="lang-btn active" onclick="changeLang('he')">HE</button>
        <button id="btn-ar" class="lang-btn" onclick="changeLang('ar')">AR</button>
    </div>
</header>

<div class="hero"></div>

<div class="container" id="branches-list">
    </div>

<script>
    // נתונים שהוצאו מהג'ייסון שסיפקת
    const branches = [
        {
            id: 12,
            name_he: "חיפה", name_ar: "حيفا",
            hours_he: "כל השבוע 10:00-22:00", hours_ar: "يومياً 10:00-22:00",
            open: 10, close: 22
        },
        {
            id: 4,
            name_he: "תל אביב-יפו", name_ar: "تل أبيب - يافا",
            hours_he: "א'-ד' 10:00-22:00 | ה'-ו' 10:00-00:00", hours_ar: "الأحد-الأربعاء 10:00-22:00",
            open: 10, close: 22 
        },
        {
            id: 3,
            name_he: "רמלה", name_ar: "الرمله",
            hours_he: "א'-ה' 09:00-21:00", hours_ar: "الأحد-الخميس 09:00-21:00",
            open: 9, close: 21
        }
    ];

    let lang = 'he';

    function checkOpen(openH, closeH) {
        const hour = new Date().getHours();
        return hour >= openH && hour < closeH;
    }

    function changeLang(newLang) {
        lang = newLang;
        document.getElementById('madApp').dir = lang === 'ar' ? 'rtl' : 'rtl'; // Keeping RTL for both as requested
        document.getElementById('btn-he').classList.toggle('active', lang === 'he');
        document.getElementById('btn-ar').classList.toggle('active', lang === 'ar');
        render();
    }

    function render() {
        const list = document.getElementById('branches-list');
        list.innerHTML = '';
        
        branches.forEach(b => {
            const isOpen = checkOpen(b.open, b.close);
            const statusLabel = lang === 'he' ? (isOpen ? 'פתוח' : 'סגור') : (isOpen ? 'مفتوح' : 'مغلق');
            const btnLabel = lang === 'he' ? 'צפה בבשמים' : 'تصفح العطور';
            
            list.innerHTML += `
                <div class="card">
                    <div class="status-badge ${isOpen ? 'is-open' : 'is-closed'}">
                        <span class="dot"></span>
                        ${statusLabel}
                    </div>
                    <div class="branch-name">${lang === 'he' ? b.name_he : b.name_ar}</div>
                    <div class="hours-text">${lang === 'he' ? b.hours_he : b.hours_ar}</div>
                    <button class="shop-btn" onclick="location.href='store.html?id=${b.id}'">
                        ${btnLabel}
                    </button>
                </div>
            `;
        });
    }

    render();
</script>
</body>
</html>
