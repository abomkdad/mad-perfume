<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MAD PARFUMEUR | Locations</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&family=Tajawal:wght@300;500;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --bg-main: #000000; --gold-text: #D4AF37; --text-primary: #FFFFFF; --gold-gradient: linear-gradient(135deg, #BF953F, #FBF5B7, #AA771C); }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--bg-main); font-family: 'Cairo', 'Tajawal', sans-serif; color: var(--text-primary); padding-bottom: 80px; }
        
        .hero-banner-wrapper { width: 100%; border-bottom: 2px solid var(--gold-text); }
        .hero-image { width: 100%; height: auto; display: block; max-height: 250px; object-fit: cover; }
        header { text-align: center; padding: 15px; background: #000; }
        .logo-img { max-width: 140px; }

        .controls-area { padding: 10px; position: sticky; top: 0; z-index: 50; background: rgba(0,0,0,0.95); backdrop-filter: blur(10px); }
        .lang-switch { display: flex; justify-content: center; background: #1a1a1a; border-radius: 20px; padding: 3px; width: fit-content; margin: 0 auto 10px; }
        .lang-btn { background: transparent; border: none; color: #888; padding: 5px 20px; border-radius: 18px; cursor: pointer; }
        .lang-btn.active { background: var(--gold-text); color: #000; font-weight: bold; }
        .search-input { width: 100%; padding: 10px; background: #111; border: 1px solid #333; border-radius: 10px; color: #fff; text-align: right; }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø´Ø¨ÙƒØ© */
        .branches-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(165px, 1fr)); gap: 12px; padding: 15px; max-width: 800px; margin: 0 auto; }
        
        .branch-card { 
            background: #111; border: 1px solid #333; border-radius: 12px; overflow: hidden; 
            display: flex; flex-direction: column; height: 260px; text-decoration: none; position: relative;
        }
        .branch-card:hover { border-color: var(--gold-text); }
        
        .card-image-bg { height: 120px; background-size: cover; background-position: center; position: relative; }
        .card-image-bg::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, #111 5%, transparent); }
        
        .card-content { padding: 10px; text-align: center; display: flex; flex-direction: column; flex-grow: 1; }
        .branch-name { color: var(--gold-text); font-weight: bold; font-size: 1.1rem; margin-bottom: 5px; }
        .branch-hours { font-size: 0.75rem; color: #ccc; margin-top: auto; background: #222; padding: 5px; border-radius: 5px;}
        .click-hint { font-size: 0.7rem; color: #888; margin-top: 5px; }

        .sticky-hotline { position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 350px; background: #000; border: 1px solid var(--gold-text); border-radius: 50px; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; z-index: 100; text-decoration: none; color: white;}
    </style>
</head>
<body>
    <div class="hero-banner-wrapper">
        <img src="https://madparfumeurglobal.com/wp-content/uploads/2024/09/1920x600-1.jpg" class="hero-image">
    </div>
    <header>
        <img src="https://abomkdad.github.io/Digital-Business-Card/logo.png" class="logo-img">
    </header>

    <div class="controls-area">
        <div class="lang-switch">
            <button class="lang-btn" onclick="switchLang('ar')" id="btn-ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
            <button class="lang-btn" onclick="switchLang('he')" id="btn-he">×¢×‘×¨×™×ª</button>
        </div>
        <input type="text" id="searchInput" class="search-input" onkeyup="filterBranches()">
    </div>

    <div class="branches-container" id="branchesList"></div>

    <a href="tel:*9935" class="sticky-hotline">
        <span id="serviceLabel">Service</span>
        <span style="color: var(--gold-text); font-weight: bold">*9935</span>
    </a>

    <script src="data.js"></script>

    <script>
        // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function switchLang(lang) {
            document.documentElement.lang = lang;
            document.getElementById('btn-ar').classList.toggle('active', lang === 'ar');
            document.getElementById('btn-he').classList.toggle('active', lang === 'he');
            document.getElementById('serviceLabel').innerText = uiText[lang].serviceText;
            document.getElementById('searchInput').placeholder = uiText[lang].searchPlaceholder;
            renderBranches(lang);
        }

        function renderBranches(lang) {
            const container = document.getElementById('branchesList');
            container.innerHTML = '';
            
            branchesData.forEach((branch, index) => {
                const name = lang === 'he' ? branch.nameHe : branch.nameAr;
                const hours = lang === 'he' ? branch.hoursHe : branch.hoursAr;
                const imgUrl = getBranchImage(index);
                
                // Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§ ÙŠØ°Ù‡Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„ÙØ±Ø¹ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø±Ù ID
                const card = document.createElement('a');
                card.href = `branch.html?id=${branch.id}&lang=${lang}`;
                card.className = 'branch-card';
                
                card.innerHTML = `
                    <div class="card-image-bg" style="background-image: url('${imgUrl}')"></div>
                    <div class="card-content">
                        <div class="branch-name">${name}</div>
                        <div class="branch-hours">${hours}</div>
                        <div class="click-hint">${lang==='ar'?'Ø§Ø¶ØºØ· Ù„Ù„ØªÙØ§ØµÙŠÙ„':'×œ×—×¥ ×œ×¤×¨×˜×™×'} ğŸ‘†</div>
                    </div>
                `;
                container.appendChild(card);
            });
            filterBranches();
        }

        function filterBranches() {
            const filter = document.getElementById('searchInput').value.trim().toUpperCase();
            const cards = document.getElementsByClassName('branch-card');
            for(let card of cards) {
                const name = card.getElementsByClassName('branch-name')[0].innerText;
                card.style.display = name.toUpperCase().indexOf(filter) > -1 ? "flex" : "none";
            }
        }

        const userLang = (navigator.language || navigator.userLanguage).includes('he') ? 'he' : 'ar';
        switchLang(userLang);
    </script>
</body>
</html>
